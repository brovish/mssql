USE [master]
GO

EXEC [AdventureWorks2008R2].dbo.sp_changedbowner @loginame = N'sa', @map = false
GO

ALTER DATABASE AdventureWorks2008R2 SET TRUSTWORTHY ON;
GO

USE [AdventureWorks2008R2]
GO

CREATE ASSEMBLY [SqlServerProject1]
AUTHORIZATION [dbo]
FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C0103007962D74F0000000000000000E00002210B010800000C000000060000000000001E2B0000002000000040000000004000002000000002000004000000000000000400000000000000008000000002000000000000030040850000100000100000000010000010000000000000100000000000000000000000C82A00005300000000400000C003000000000000000000000000000000000000006000000C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000240B000000200000000C000000020000000000000000000000000000200000602E72737263000000C00300000040000000040000000E0000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001200000000000000000000000000004000004200000000000000000000000000000000002B0000000000004800000002000500A02100002809000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002E280E00000A730F00000A2A1E02281000000A2A1B300300B000000001000011281200000A6F1300000A166F1400000A0A281200000A6F1300000A6F1500000A0D2B1D096F1600000A74140000010B076F1700000A280E00000A3304070A2B08096F1800000A2DDBDE14097517000001130411042C0711046F1900000ADC06230000000000000040026C281A00000A6A281B00000A6F1C00000A061F0F6F1D00000A731E00000A0C086F1F00000A086F2000000A036A31F620FFFFFF7F282100000A066F2200000A06166F1D00000A2A0110000002002100294A00140000000013300400590000000200001120000100000A0620000010005A6A0B732300000A0C20000001008D1E0000010D08096F2400000A07D48D1E00000113041613052B16091104110520000001005A6F2500000A11051758130511056A0720000001006A5B32DD2A1E02281000000A2A00000042534A4201000100000000000C00000076322E302E35303732370000000005006C00000004030000237E0000700300009004000023537472696E67730000000000080000080000002355530008080000100000002347554944000000180800001001000023426C6F620000000000000002000001471502000900000000FA253300160000010000001F000000030000000500000002000000250000000D00000002000000010000000300000000000A00010000000000060056004F000A007E0069000600E600D4000600FD00D40006001A01D40006003901D40006005201D40006006B01D40006008601D4000600A101D4000600D901BA010600ED01D4000600260206020600460206020A00910276020600A6024F000A00C30276020E00EC02D9020E000603D9020E002A03D90206005403410306006B0341030600A1034F000600B5034F000600BE034F000E00E703D9020E000D04D90206004604350406006A044F00060071044F00060080044F00000000000100000000000100010001001000200000000500010001000100100035000000050001000300502000000000960087000A0001005C20000000008618A0000F0001006420000000009600A600130001003021000000009600AE00190003009521000000008618A0000F00030000000100C50000000200CB001900A0001D002100A0001D002900A0001D003100A0001D003900A0001D004100A0001D004900A0001D005100A0001D005900A00022006100A0001D006900A00027007100A0000F007900A0000F008100B00231001100A00027000900A0000F008900A0000F009100F402350091001E033A00990038033F00A90077034500B10085034A00A10091034E00B10098035200B900AD030F00C100BA035600C900C5035C00A100D1036100A100FB036600D900A0000F00D90017040F00D9001D046C00E1004D047000A10056040F00E900A0000F00E90076048200F9008604880020006B002C002E002300B8002E002B009B002E006300F1002E001300B2002E001B00B2002E003300C7002E000B009B002E003B00B2002E004B00B2002E005B00E80060008B002C0080008B002C0075008F000480000001000000C211D44A00000000000064020000020000000000000000000000010046000000000002000000000000000000000001005D000000000002000000000000000000000001004F00000000000000003C4D6F64756C653E0053716C53657276657250726F6A656374312E646C6C0055736572446566696E656446756E6374696F6E730053746F72656450726F63656475726573006D73636F726C69620053797374656D004F626A6563740053797374656D2E446174610053797374656D2E446174612E53716C54797065730053716C496E7433320047657443757272656E7453797374656D5468726561644944002E63746F72004275726E43505500436F6E73756D654578636573736976654D656D6F7279006370756964006475726174696F6E0053797374656D2E5265666C656374696F6E00417373656D626C795469746C6541747472696275746500417373656D626C794465736372697074696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E41747472696275746500417373656D626C79436F6D70616E7941747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C7954726164656D61726B41747472696275746500417373656D626C7943756C747572654174747269627574650053797374656D2E52756E74696D652E496E7465726F70536572766963657300436F6D56697369626C6541747472696275746500417373656D626C7956657273696F6E4174747269627574650053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C6974794174747269627574650053716C53657276657250726F6A65637431004D6963726F736F66742E53716C5365727665722E5365727665720053716C46756E6374696F6E41747472696275746500417070446F6D61696E0047657443757272656E7454687265616449640053716C50726F6365647572654174747269627574650053797374656D2E446961676E6F73746963730050726F636573730047657443757272656E7450726F636573730050726F63657373546872656164436F6C6C656374696F6E006765745F546872656164730050726F63657373546872656164006765745F4974656D0053797374656D2E436F6C6C656374696F6E7300526561644F6E6C79436F6C6C656374696F6E426173650049456E756D657261746F7200476574456E756D657261746F72006765745F43757272656E74006765745F4964004D6F76654E6578740049446973706F7361626C6500446973706F7365004D61746800506F7700496E74507472006F705F4578706C69636974007365745F50726F636573736F72416666696E697479005468726561645072696F726974794C6576656C007365745F5072696F726974794C6576656C0053746F707761746368005374617274006765745F456C61707365644D696C6C697365636F6E64730053797374656D2E546872656164696E6700546872656164005370696E57616974005265736574496465616C50726F636573736F720052616E646F6D0042797465004E657874427974657300417272617900436F7079546F0000000000032000000000008E3EF842ABB21944AC1A9ABA17FAB3270008B77A5C561934E08904000011090320000105000201080803000001042001010E042001010204200101080401000000030000080400001249042000124D05200112510804200012590320001C03200008032000020500020D0D0D040001180A04200101180520010111690320000A04000101080C070512511251126D1259125D052001011D0506200201127D080B0706080A12751D051D05081601001153716C53657276657250726F6A6563743100000501000000000E0100094D6963726F736F667400002001001B436F7079726967687420C2A9204D6963726F736F6674203230313200000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F777301F02A000000000000000000000E2B0000002000000000000000000000000000000000000000000000002B000000000000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF25002040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000680300000000000000000000680334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE0000010000000100D44AC21100000100D44AC2113F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004C8020000010053007400720069006E006700460069006C00650049006E0066006F000000A4020000010030003000300030003000340062003000000034000A00010043006F006D00700061006E0079004E0061006D006500000000004D006900630072006F0073006F006600740000004C0012000100460069006C0065004400650073006300720069007000740069006F006E0000000000530071006C00530065007200760065007200500072006F006A006500630074003100000040000F000100460069006C006500560065007200730069006F006E000000000031002E0030002E0034003500340036002E0031003900310035003600000000004C001600010049006E007400650072006E0061006C004E0061006D0065000000530071006C00530065007200760065007200500072006F006A0065006300740031002E0064006C006C0000005C001B0001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A90020004D006900630072006F0073006F006600740020003200300031003200000000005400160001004F0072006900670069006E0061006C00460069006C0065006E0061006D0065000000530071006C00530065007200760065007200500072006F006A0065006300740031002E0064006C006C000000440012000100500072006F0064007500630074004E0061006D00650000000000530071006C00530065007200760065007200500072006F006A006500630074003100000044000F000100500072006F006400750063007400560065007200730069006F006E00000031002E0030002E0034003500340036002E00310039003100350036000000000048000F00010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0034003500340036002E00310039003100350036000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000C000000203B00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
WITH PERMISSION_SET = UNSAFE
GO

CREATE PROCEDURE [dbo].[BurnCPU]
	@cpuid [int],
	@duration [int]
WITH EXECUTE AS CALLER
AS
EXTERNAL NAME [SqlServerProject1].[StoredProcedures].[BurnCPU]
GO


CREATE PROCEDURE [dbo].[ConsumeExcessiveMemory]
WITH EXECUTE AS CALLER
AS
EXTERNAL NAME [SqlServerProject1].[StoredProcedures].[ConsumeExcessiveMemory]
GO
