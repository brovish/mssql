(function($){'use strict'
function isAppleDevice(){if(navigator&&typeof navigator.userAgent!=='undefined'){var strUserAgent=navigator.userAgent.toLowerCase(),arrMatches=strUserAgent.match(/(iphone|ipod|ipad)/);if(arrMatches!==null)return true};return false};Drupal.behaviors.penton_comment={attach:function(context,settings){if($('.user-comment',context).length===0)return;var contextId=settings.contextId?settings.contextId:$('.comments-wrapper',context).attr('id'),commentBody=$('#'+contextId+' textarea[name="comment_body[und][0][value]"]'),commentBodyId=commentBody.attr('id'),article=$('article.big-article',context),nid=article.data('nid'),showComments=$(article.find('.comments--show'));if(nid)$.ajax({method:'GET',url:'/ajax/get-comments-count/'+nid,success:function(res){if(res>=0){var commentsText=showComments.text().replace(/\d*/,res);showComments.text(commentsText)}},complete:function(){showComments.addClass('comments--ready').removeClass('hidden')}});if($('span.comment-error a.ctools-use-modal',context).length>0){$('span.comment-error',context).hide();if($('#'+contextId+' span.comment-error a.ctools-use-modal').length>0){$('#'+contextId+' span.comment-error').show();$('#'+contextId+' .publish').hide()}else $('#'+contextId+' .publish').show().css('display','block');$('span.comment-error a.ctools-use-modal').click(function(){$.cookie(contextId+'.pid',$('#'+contextId+' input[type="hidden"][name="pid"]').val());$.cookie(contextId+'.cid',$('#'+contextId+' input[type="hidden"][name="cid"]').val());if(CKEDITOR.instances[commentBodyId]===undefined){$.cookie(contextId+'.cid',$('#'+contextId+' textarea[name="comment_body[und][0][value]"]').val())}else $.cookie(contextId+'.commentBody',CKEDITOR.instances[commentBodyId].getData())})};$('.comments a.comments--show',context).on('forceLoadedState',function(){$(this).removeClass('hidden');$(this).addClass('comments--ready').addClass('comments--loaded')});$('.comments a.comments--show',context).click(function(){if($(this).hasClass('comments--ready')){var commentsWrapper=$(this).parents('.comments-wrapper');if(!$(this).hasClass('comments--loaded')){$.ajax({method:'GET',url:'/ajax/get-comments/'+nid,data:{GET_COMMENTS:true},success:function(res){showComments.addClass('comments--loaded');commentsWrapper.find('.comments-inner-container').html(res);showComments.trigger('click')}})}else{commentsWrapper.find('.comments-container').fadeIn(500);$('#'+contextId+' .control-comments').each(function(){if($(this).parents('.reply-to-message').length>0)$(this).trigger('click')})}}});$('.comments-header span.comments--hide',context).click(function(){$(this).parents('.comments-container').fadeOut(500)});$('.comments-container',context).on('click','#show-more-'+contextId,function(){var showMore=$('#show-more-'+contextId,context);if(showMore.size()>0){new Drupal.ajax(null,showMore,{url:$('#show-more-'+contextId).attr('data-url'),settings:{},event:'click tap'});$(this).click()}});$('.comments-container',context).on('click','.control-comments',function(){var controlDiv=$(this).find('div'),replyContainer=$(this).find('span.comment-reply-count');if(controlDiv.hasClass('hide-comment')){var count=$(this).parent().find('.reply-to-message').length;$(this).parent().find('.reply-to-message').hide();controlDiv.removeClass('hide-comment').addClass('show');if(count===1){replyContainer.text(count+' reply ')}else replyContainer.text(count+' replies ')}else if(controlDiv.hasClass('show')){$(this).parent().find('.reply-to-message').show();$(this).parent().find('.show').addClass('hide-comment').removeClass('show').find('span.comment-reply-count').text('');controlDiv.removeClass('show').addClass('hide-comment');replyContainer.text('')}});if($('.comments a',context).length===0)$('.control-comments',context).each(function(){if($(this).parents('.reply-to-message').length>0)$(this).trigger('click')});var sidebarButton=$('.js-expand-sidebar'),header=$('.js-header'),sidebar=$('.js-sticky-leftcol'),ckeditorBlurTrigger=false,breakyStatus=true;$(':not(.form-textarea-wrapper .comment-reply)').on('click touchstart',function(){if(ckeditorBlurTrigger&&isAppleDevice()){document.activeElement.blur();$('input, textarea').blur()}});CKEDITOR.on('instanceReady',function(){if(typeof breaky!=='undefined'){breaky.above("small",function(){breakyStatus=false;sidebarButton.removeAttr('style')});breaky.below("small",function(){breakyStatus=true})};if(typeof CKEDITOR.instances[commentBodyId]!=='undefined'){var currentCkeditor=CKEDITOR.instances[commentBodyId];if(isAppleDevice()){currentCkeditor.on('focus',function(){if(typeof PentonSingleSidebar!=='undefined')PentonSingleSidebar.collapse();if(breakyStatus)sidebarButton.hide();sidebar.hide();header.hide();ckeditorBlurTrigger=true});currentCkeditor.on('blur',function(){if(breakyStatus)sidebarButton.show();sidebar.show();header.show();ckeditorBlurTrigger=false})};currentCkeditor.focus()}});var focusBody=function(text){if($('#'+contextId+' span.comment-error a.ctools-use-modal').length>0){$('#'+contextId+' span.comment-error').show()}else $('#'+contextId+' .publish').show().css('display','block');if(typeof CKEDITOR.instances[commentBodyId]==='undefined'){Drupal.ckeditorOn(commentBodyId)}else CKEDITOR.instances[commentBodyId].focus();if(typeof text!=='undefined')CKEDITOR.instances[commentBodyId].setData(text);$('body').animate({scrollTop:$('#'+contextId).offset().top},500)};commentBody.focus(function(){focusBody()});if($.cookie(contextId+'.commentBody')!==null){$('.comments a',context).click();focusBody($.cookie(contextId+'.commentBody'));$('#'+contextId+' input[type="hidden"][name="pid"]').val($.cookie(contextId+'.pid'));$('#'+contextId+' input[type="hidden"][name="cid"]').val($.cookie(contextId+'.cid'));$.cookie(contextId+'.commentBody','',{expires:-1});$.cookie(contextId+'.pid','',{expires:-1});$.cookie(contextId+'.cid','',{expires:-1})};if(!settings.contextId&&commentBody.val())focusBody();$('.comments-container',context).on('click','.publish.js-publish',function(e){document.activeElement.blur();$('input, textarea').blur();$(this).closest('.comments-container').fadeTo('slow',0.33);$('#'+contextId+' [name="op"]').trigger('mousedown');e.stopPropagation();e.preventDefault()});$('.comments-container',context).on('click','.comment-reply',function(){var cid=($(this).closest('.comment-options').attr('data-cid'));$('#'+contextId+' input[type="hidden"][name="pid"]').val(cid);$('#'+contextId+' input[type="hidden"][name="cid"]').val('');focusBody('')});$('.comments-container',context).on('click','.comment-edit',function(){var cid=($(this).closest('.comment-options').attr('data-cid')),pid='',parents=$(this).parents('.reply-to-message');if(parents.length>0)pid=$('.comment-options',$(parents[0]).siblings('.user-content')[0]).attr('data-cid');$('#'+contextId+' input[type="hidden"][name="pid"]').val(pid);$('#'+contextId+' input[type="hidden"][name="cid"]').val(cid);focusBody($(this).closest('.user-content').find('.field-item').html().trim())})}}})(jQuery);;/*})'"*/
(function($){Drupal.behaviors.textarea={attach:function(context,settings){$('.form-textarea-wrapper.resizable',context).once('textarea',function(){var staticOffset=null,textarea=$(this).addClass('resizable-textarea').find('textarea'),grippie=$('<div class="grippie"></div>').mousedown(startDrag);grippie.insertAfter(textarea)
function startDrag(e){staticOffset=textarea.height()-e.pageY;textarea.css('opacity',0.25);$(document).mousemove(performDrag).mouseup(endDrag);return false}
function performDrag(e){textarea.height(Math.max(32,staticOffset+e.pageY)+'px');return false}
function endDrag(e){$(document).unbind('mousemove',performDrag).unbind('mouseup',endDrag);textarea.css('opacity',1)}})}}})(jQuery);;/*})'"*/
(function($){Drupal.behaviors.filterGuidelines={attach:function(context){$('.filter-guidelines',context).once('filter-guidelines').find(':header').hide().closest('.filter-wrapper').find('select.filter-list').bind('change',function(){$(this).closest('.filter-wrapper').find('.filter-guidelines-item').hide().siblings('.filter-guidelines-'+this.value).show()}).change()}}})(jQuery);;/*})'"*/
!function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,n){n(1),n(2),n(3),n(4),n(5),n(6),n(7),e.exports=n(8)},function(e,t){function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/**
 jQuery.kinetic v2.2.1
 Dave Taylor http://davetayls.me

 @license The MIT License (MIT)
 @preserve Copyright (c) 2012 Dave Taylor http://davetayls.me
 */
!function(a){"use strict";var i=[];a(window).on("scroll mousewheel",function(e){for(var t=!0,n=0;n<i.length;n++)if(!i[n].__isScrollable__()){t=!1;break}if(!t)return e.preventDefault(),e.stopPropagation(),!1;for(n=0;n<i.length;n++)i[n].__runCallbacks__()});var e="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),a.support=a.support||{},a.extend(a.support,{touch:"ontouchend"in document});function r(e,t,n){return this.settings=t,this.el=e,this.$el=a(e),this.cb="function"==typeof n?n:function(){},this._initElements(),this}r.DATA_KEY="kinetic",r.DEFAULTS={cursor:"default",decelerate:!0,triggerHardware:!1,threshold:0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:30,invert:!1,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},r.prototype.start=function(e){this.settings=a.extend(this.settings,e),this.velocity=e.velocity||this.velocity,this.velocityY=e.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},r.prototype.end=function(){this.settings.decelerate=!0},r.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,a.isFunction(this.settings.stopped)&&this.settings.stopped.call(this)},r.prototype.detach=function(){this._detachListeners(),this.$el.removeClass(e).css("cursor","")},r.prototype.attach=function(){this.$el.hasClass(e)||(this._attachListeners(this.$el),this.$el.addClass(e).css("cursor",this.settings.cursor))},r.prototype._initElements=function(){this.$el.addClass(e),a.extend(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0,a(document).mouseup(a.proxy(this._resetMouse,this)).click(a.proxy(this._resetMouse,this)),this._initEvents(),this.$el.css("cursor",this.settings.cursor),this.settings.triggerHardware&&this.$el.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})},r.prototype._initEvents=function(){var n=this;this.settings.events={touchStart:function(e){var t;n._useTarget(e.target,e)&&(t=e.originalEvent.touches[0],n.threshold=n._threshold(e.target,e),n._start(t.clientX,t.clientY))},touchMove:function(e){var t;n.mouseDown&&(t=e.originalEvent.touches[0],n._inputmove(t.clientX,t.clientY),n.cb(),e.preventDefault&&e.preventDefault())},inputDown:function(e){n._useTarget(e.target,e)&&(n.threshold=n._threshold(e.target,e),n._start(e.clientX,e.clientY),n.elementFocused=e.target,"IMG"===e.target.nodeName&&e.preventDefault(),e.stopPropagation())},inputEnd:function(e){n._useTarget(e.target,e)&&(n._end(),n.elementFocused=null)},inputMove:function(e){n.mouseDown&&(n._inputmove(e.clientX,e.clientY),e.preventDefault&&e.preventDefault())},scroll:function(e){a.isFunction(n.settings.moved)&&n.settings.moved.call(n,n.settings),e.preventDefault&&e.preventDefault()},inputClick:function(e){if(0<Math.abs(n.velocity))return e.preventDefault(),!1},dragStart:function(e){if(n._useTarget(e.target,e)&&n.elementFocused)return!1},selectStart:function(e){return a.isFunction(n.settings.selectStart)?n.settings.selectStart.apply(n,arguments):!n._useTarget(e.target,e)&&void 0}},this._attachListeners(this.$el,this.settings)},r.prototype._inputmove=function(e,t){var n=this.$el;this.el;if((!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){var i=e-this.xpos,o=t-this.ypos;if(this.settings.invert&&(i*=-1,o*=-1),0<this.threshold){var s=Math.sqrt(i*i+o*o);if(this.threshold>s)return;this.threshold=0}this.elementFocused&&(a(this.elementFocused).blur(),this.elementFocused=null,n.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;s=this.scrollLeft(),n=this.scrollTop();this.scrollLeft(this.settings.x?s-i:s),this.scrollTop(this.settings.y?n-o:n),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=e,this.ypos=t,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),a.isFunction(this.settings.moved)&&this.settings.moved.call(this,this.settings)}},r.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity),this.settings.invert&&(this.velocity*=-1,this.velocityY*=-1)},r.prototype._end=function(){this.xpos&&this.prevXPos&&!1===this.settings.decelerate&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},r.prototype._useTarget=function(e,t){return!a.isFunction(this.settings.filterTarget)||!1!==this.settings.filterTarget.call(this,e,t)},r.prototype._threshold=function(e,t){return a.isFunction(this.settings.threshold)?this.settings.threshold.call(this,e,t):this.settings.threshold},r.prototype._start=function(e,t){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=e,this.ypos=t},r.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},r.prototype._decelerateVelocity=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},r.prototype._capVelocity=function(e,t){var n=e;return 0<e?t<e&&(n=t):e<0-t&&(n=0-t),n},r.prototype._setMoveClasses=function(e){var t=this.settings,n=this.$el;n.removeClass(t.movingClass.up).removeClass(t.movingClass.down).removeClass(t.movingClass.left).removeClass(t.movingClass.right).removeClass(t.deceleratingClass.up).removeClass(t.deceleratingClass.down).removeClass(t.deceleratingClass.left).removeClass(t.deceleratingClass.right),0<this.velocity&&n.addClass(e.right),this.velocity<0&&n.addClass(e.left),0<this.velocityY&&n.addClass(e.down),this.velocityY<0&&n.addClass(e.up)},r.prototype._move=function(){var e=this._getScroller()[0],t=this,n=t.settings;n.x&&0<e.scrollWidth?(this.scrollLeft(this.scrollLeft()+this.velocity),0<Math.abs(this.velocity)&&(this.velocity=n.decelerate?t._decelerateVelocity(this.velocity,n.slowdown):this.velocity)):this.velocity=0,n.y&&0<e.scrollHeight?(this.scrollTop(this.scrollTop()+this.velocityY),0<Math.abs(this.velocityY)&&(this.velocityY=n.decelerate?t._decelerateVelocity(this.velocityY,n.slowdown):this.velocityY)):this.velocityY=0,t._setMoveClasses(n.deceleratingClass),a.isFunction(n.moved)&&n.moved.call(this,n),0<Math.abs(this.velocity)||0<Math.abs(this.velocityY)?this.moving||(this.moving=!0,window.requestAnimationFrame(function(){t.moving=!1,t._move()})):t.stop()},r.prototype._getScroller=function(){var e=this.$el;return e=this.$el.is("body")||this.$el.is("html")?a(window):e},r.prototype.scrollLeft=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollLeft();t.scrollLeft(e),this.settings.scrollLeft=e},r.prototype.scrollTop=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollTop();t.scrollTop(e),this.settings.scrollTop=e},r.prototype._attachListeners=function(){var e=this.$el,t=this.settings;a.support.touch&&e.bind("touchstart",t.events.touchStart).bind("touchend",t.events.inputEnd).bind("touchmove",t.events.touchMove)},r.prototype._detachListeners=function(){var e=this.$el,t=this.settings;a.support.touch&&e.unbind("touchstart",t.events.touchStart).unbind("touchend",t.events.inputEnd).unbind("touchmove",t.events.touchMove)},a.Kinetic=r,a.fn.kinetic=function(i,o,s){return this.each(function(){var e=a(this),t=e.data(r.DATA_KEY),n=a.extend({},r.DEFAULTS,e.data(),"object"===l(o)&&o);t||e.data(r.DATA_KEY,t=new r(this,n,i)),"string"==typeof o&&t[o](s)})};var n=(t.prototype.attachEvents=function(){var n=this,t=!1;this.el.on("mousedown",function(e){n.isEvent&&(t=!0)}),this.el.on("mouseup",function(e){n.isEvent&&(t=!1)}),this.el.on("scroll",function(e){n.isEvent&&t&&n.__scroll__()}),this.el.on("mousewheel",function(e){var t;n.isEvent&&(n.__scroll__(),t=n.el.scrollTop(),0<=e.originalEvent.wheelDelta?n.el.scrollTop(t-30):n.el.scrollTop(t+30))}),this.el.hover(function(){n.isEvent&&(n.isScrollable=!1)},function(){n.isEvent&&(n.isScrollable=!0)}),this.el.kinetic(function(){n.__scroll__()})},t.prototype.detachEvents=function(){return this.el.off(),this},t.prototype.__scroll__=function(){this.__runCallbacks__()},t.prototype.__runCallbacks__=function(){for(var e=0;e<this.callbacks.length;e++)this.callbacks[e]();return this},t.prototype.__isScrollable__=function(){return this.isScrollable},t.prototype.setElement=function(e){return this.el=e,this},t.prototype.addCallback=function(e){return"function"==typeof e&&this.callbacks.push(e),this},t.prototype.pause=function(){return this.isEvent=!1,this},t.prototype.resume=function(e){this.isEvent=!0},t.prototype.destroy=function(){for(var e=0;e<i.length;e++)i[e].el.selector===this.el.selector&&i.splice(e,1)},t);function t(){this.callbacks=[],this.isScrollable=!0,this.el=null,this.isEvent=!0}a.fn.areaScroll=function(e){var t=new n;return t.setElement(a(this)),t.addCallback(e),t.attachEvents(),i.push(t),t}}(jQuery)},function(e,t){!function(e){"use strict";var a=0,r={},s={},l=[];function c(){for(var e=r[breaky.value]?r[breaky.value].on:[],t=e.length,n=r[breaky.value]?r[breaky.value].off:[],i=n.length,o=0;o<t;o++)s[e[o]].active||(s[e[o]].fn(),s[e[o]].active=!0);for(o=0;o<i;o++)s[n[o]].active=!1}function t(e,t){return window.getComputedStyle(document.querySelector(e),":"+t).getPropertyValue("content").replace(/\"/g,"").replace(/\'/g,"")}function d(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(t===e[n])return n}function n(){for(var e=l.length,t=0;t<e;t++)r[l[t]]={},r[l[t]].on=[],r[l[t]].off=[]}function i(e,t,n,i){e=e,s[++a]={},s[a].fn=e,s[a].active=!1,function(e,t,n){for(var i=d(l,e),o=d(l,n),s=0;s<l.length;s++)(s==i&&"at"==t||s<=i&&"below"==t||i<s&&"above"==t||i<=s&&s<=o&&"between"==t?r[l[s]].on:r[l[s]].off).push(a);c()}(t,n,i)}window.breaky={below:function(e,t){i(t,e,"below")},above:function(e,t){i(t,e,"above")},between:function(e,t,n){i(n,e,"between",t)},at:function(e,t){i(t,e,"at")},initIE8:function(e,t){window.getComputedStyle||(l=e,n(),breaky.value=t)},init:function(){l=t("#body-wrapper","after").split(","),n(),breaky.value=t("#body-wrapper","before"),window.onresize=function(){breaky.value!==t("#body-wrapper","before")&&(breaky.value=t("#body-wrapper","before"),c())}}},e(function(){window.getComputedStyle&&breaky.init()})}(jQuery)},function(e,t){var i;(i=jQuery)(window).on("scroll",function(){var e,t,n=i(".my-cart-sidebar");n.length&&(e=n.offset().top-78,t=i("#page-wraper").height()-e-300,n=i(".my-cart-sidebar .cart-inner"),i(this).scrollTop()>e&&1025<i(this).width()?(n.removeClass("sticky-cart-bottom"),n.addClass("sticky-cart"),i(this).scrollTop()>t&&(n.removeClass("sticky-cart"),n.addClass("sticky-cart-bottom"))):(n.removeClass("sticky-cart"),n.removeClass("sticky-cart-bottom")))})},function(e,t){window.PentonSingleHeader={},function(C){"use strict";function S(){return/Mobi|Android/i.test(navigator.userAgent)}C(function(){var i,o,s,a,r,n,l,e,c,t,d,u,h,p,f,g,m=!1,v=C(".print-main").length,b=C(".informa-redesign").length;if(v||b)return!1;C(".js-menumore").menumore({liPaddings:60}),C(".js-menumore-discover").menumore({parentPadding:C(".pillar-nav__header").outerWidth()+180}),o=C(window),i=C(".header"),r=C("html"),g=C("main:first"),e=C(".js-menu-toggler"),c=C(".hamburger-menu-inner"),t=C(".pillar-nav"),h=65,p=90,f=0,S()&&(f=35),C("#iribbon-detail").length&&(h+=f),p+=t.length?t.height():0,d=h,u=p,l=n=0,a=!1,s=45,PentonSingleHeader.getHeight=function(){return{minHeight:d,maxHeight:u}},PentonSingleHeader.setHeight=function(e,t){n=d=e,l=u=t,PentonSingleHeader.resize(e,t)},PentonSingleHeader.toDefaultHeight=function(){d=h,u=m?p:h,l=n=0},PentonSingleHeader.resize=function(e,t,n){e=e||d,t=t||u,(n=n||"")&&(i.css({transition:n}),setTimeout(function(){i.css({transition:""})},800)),r.hasClass("header-minimized")?(i.css({height:e}),g.css("padding-top",e)):(i.css({height:t}),g.css("padding-top",t))};var y=null;PentonSingleHeader.expand=function(){clearTimeout(y),clearTimeout(_),r.removeClass("header-minimized"),i.css({height:u}),i.trigger("penton:header:prepare:expand"),y=setTimeout(function(){i.trigger("penton:header:expand"),t.removeClass("pillar-nav-hidden")},800)};var _=null;function w(){var e,t=0,n=C(".js-penton-legal-comm-ajax-output-alert").height();o.scrollTop()>s?a||(a=!0,PentonSingleHeader.collapse(),C("#iribbon-detail").length&&(e=C("#iribbon-container"),C("#iribbon-detail").css({"margin-top":-(e.height()-35)}),PentonSingleHeader.toDefaultHeight(),d=h-f,t=PentonSingleHeader.getHeight(),PentonSingleHeader.resize(t.minHeight+n,t.maxHeight+n),C("#iribbon-detail").removeClass("ribbon-show").addClass("ribbon-hide").find("a").attr("tabindex",-1),C("#iribbon-title").removeClass("active"))):a&&(a=!1,PentonSingleHeader.expand(),document.getElementById("iribbon-detail")&&(PentonSingleHeader.toDefaultHeight(),d=h,t=PentonSingleHeader.getHeight(),PentonSingleHeader.resize(t.minHeight+n,t.maxHeight+n))),k()}function k(){var e=C(".admin-menu").length?parseInt(C(".admin-menu").css("margin-top"),10):0,t=o.scrollTop()>s?d:m?p:h;c.css({top:S()&&r.hasClass("header-minimized")?t+e-f:t+e})}PentonSingleHeader.collapse=function(){clearTimeout(y),clearTimeout(_),r.addClass("header-minimized"),t.addClass("pillar-nav-hidden"),i.css({height:d}),i.trigger("penton:header:prepare:collapse"),_=setTimeout(function(){i.trigger("penton:header:collapse")},800)},PentonSingleHeader.hideMenus=function(){e.hasClass("active")&&(C(".js-menu-toggler").removeClass("active"),C(".js-toggle-menu").removeClass("active"))},e.on("click",function(e){var t=C(this).parent().find(".js-toggle-menu");C(this).toggleClass("active"),t.toggleClass("active"),!C(this).hasClass("active")&&t.hasClass("hamburger-menu-inner")&&k(),e.stopPropagation()}),breaky.above("small",function(){m=!0,u=l||p,k(),PentonSingleHeader.resize()}),breaky.below("small",function(){m=!1,u=n||h,k(),PentonSingleHeader.resize()}),c.areaScroll(w),w()})}(jQuery)},function(e,t){function o(e,t){e=e||0,t=t||0,PentonSingleHeader.toDefaultHeight();var n=PentonSingleHeader.getHeight();PentonSingleHeader.resize(n.minHeight+e,n.maxHeight+t,"none")}var s;(s=jQuery)(document).ready(function(){var t,n,i;s("#iribbon-container").length&&(t=s("#iribbon-container"),n=s("#iribbon-detail"),s(".pillar-nav").addClass("informa-banner"),n.find("a").attr("tabindex",-1),(i=t.find("#iribbon-title")).on("click",function(){var e=s(".js-penton-legal-comm-ajax-output-alert").height();n.hasClass("ribbon-hide")?(n.removeClass("ribbon-hide").css({"margin-top":""}).addClass("ribbon-show").find("a").attr("tabindex",0),n.find("a").last().keydown(function(e){e.shiftKey&&9==e.keyCode||9==e.keyCode&&(n.removeClass("ribbon-show").css({"margin-top":""}).addClass("ribbon-hide").find("a").attr("tabindex",-1),s(this).removeClass("active"))}),i.keydown(function(e){e.shiftKey&&9==e.keyCode&&(n.removeClass("ribbon-show").css({"margin-top":""}).addClass("ribbon-hide").find("a").attr("tabindex",-1),s(this).removeClass("active"))}),s(this).addClass("active"),o(0,e+t.height()-35)):(n.removeClass("ribbon-show").css({"margin-top":""}).addClass("ribbon-hide").find("a").attr("tabindex",-1),s(this).removeClass("active"),o(0,e))}))})},function(e,t){var n=["iframe[src^='https://www.google.com/']","iframe[src^='//cloud.highcharts.com/']","iframe[src^='//app.everviz.com/']","iframe[src^='https://assettvus.getmediamanager.com/']","iframe[src^='//players.brightcove.net/']"];void 0!==Drupal.settings.penton_custom_dfp&&(window.byline=Drupal.settings.penton_custom_dfp.do_byline,window.timeout_dfp=Drupal.settings.penton_custom_dfp.lifetime_banner),window.flag_for_topbanner=!1,window.flag_for_infinitescroll_banner=!1,window.help_of_position=!0,window.help_of_position_topbanner=!0,window.save_top_offset_for_topbanner=!0,window.save_top_offset_for_interscroller=!0,window.flag_for_timer=!0,window.stickybannerhelpheader=!0,window.stickybannertimer1=0,window.topbanner1=!0,function(r){"use strict";Drupal.behaviors.ajax_ip_chk={attach:function(e){r.ajax({url:"/ajax/pbifa/",async:!1,cache:!1,data:{url:window.location.pathname},success:function(e){e=JSON.parse(e);console.log(e),"yes"==e.is_module&&"true"==e.ajx_is_blk&&void 0!==Drupal.settings.penton_custom_dfp&&(delete Drupal.settings.penton_custom_dfp,Drupal.settings.penton_custom_dfp=[],Drupal.settings.is_blocked_ip=!0)}})}},"undefined"!=typeof googletag&&void 0!==googletag.pubads&&googletag.apiReady&&googletag.pubads().addEventListener("impressionViewable",function(e){e=e.slot.getSlotElementId(),e=r("#"+e);e.length&&(!(e=e.parents("[data-dfp-position]")).length||(e=e.attr("data-remove-element"))&&r(e).remove())});var e=window.location.pathname;function a(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}!(0<=e.indexOf("/cart")||0<=e.indexOf("/store")||0<=e.indexOf("/products")||0<=e.indexOf("/product-types")||0<=e.indexOf("/store-topics")||e.indexOf("/gallery")==e.length-8||0<=e.indexOf("/user/login")||"undefined"!=typeof isblocked&&"blocked"==isblocked||0<=e.indexOf("penton_ur_thank_you"))&&window.googletag&&"function"==typeof window.googletag.pubads&&window.googletag.pubads()&&"function"==typeof window.googletag.pubads().getSlots&&window.googletag.pubads().getSlots()||(console.log("************in main.js**********"),(e=document.getElementById("body-wrapper")).style.removeProperty?e.style.removeProperty("opacity"):e.style.removeAttribute("opacity")),Drupal.behaviors.typekit={attach:function(e,t){var n,i={kitId:t.typekitId||"ntl8rdl",scriptTimeout:2e3,async:!0},o=document,s=o.documentElement,a=setTimeout(function(){s.className=s.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"},i.scriptTimeout),t=o.createElement("script"),r=!1,o=o.getElementsByTagName("script")[0];s.className+=" wf-loading",t.src="https://use.typekit.net/"+i.kitId+".js",t.async=!0,t.onload=t.onreadystatechange=function(){if(n=this.readyState,!(r||n&&"complete"!==n&&"loaded"!==n)){r=!0,clearTimeout(a);try{Typekit.load(i)}catch(e){}}},o.parentNode.insertBefore(t,o)}},(0<r(".ccc-usermarketing-promo-unit").find(".usermarketing-button").length||0<r(".ccc-usermarketing-promo-unit").find(".usermarketing-image").length)&&(r(".usermarketing-button").click(function(e){"undefined"!=typeof _satellite&&(_satellite.setVar("dtm_ccc_click_url",this.href),_satellite.track("CCC_RESOURCE_CLICKED")),"undefined"!=typeof dataLayer&&dataLayer.push({event:"CCC_RESOURCE_CLICKED",page:{ccc_click_url:this.href}})}),r(".usermarketing-image").click(function(e){"undefined"!=typeof _satellite&&(_satellite.setVar("dtm_ccc_click_url",this.href),_satellite.track("CCC_RESOURCE_CLICKED")),"undefined"!=typeof dataLayer&&dataLayer.push({event:"CCC_RESOURCE_CLICKED",page:{ccc_click_url:this.href}})})),0<r(".node-type-research_page").length&&"undefined"!=typeof _satellite&&_satellite.track("NEW ARTICLE LOADED"),Drupal.behaviors.attachSharebarClickEvent={attach:function(e){if("undefined"!=typeof dataLayer)for(var t=["print","email","facebook","linkedin","twitter","pinterest"],n=0;n<t.length;n++){var i="";(i=r("email"==t[n]?".share-icons > .envelope":".share-icons > ."+t[n],e)).length&&i.on("click",function(){var e=0<=(e=this.getAttribute("class")).indexOf("envelope")?"email":this.getAttribute("class").trim();dataLayer.push({event:e+" click"})})}}},Drupal.behaviors.trackEmbeds={attach:function(e,t){var n="";r("iframe[src*='soundcloud']").length&&(n="soundcloud"),r("iframe[src*='elq']").length&&(""!=n&&(n+="|"),n+="eloqua"),r("blockquote[cite*='facebook']").length&&(""!=n&&(n+="|"),n+="facebook"),r("blockquote[class*='twitter']").length&&(""!=n&&(n+="|"),n+="twitter"),r("iframe[src*='storify']").length&&(""!=n&&(n+="|"),n+="storify"),r("iframe[src*='vimeo']").length&&(""!=n&&(n+="|"),n+="vimeo"),r("object[id*='limelight']").length&&(""!=n&&(n+="|"),n+="limelight"),r("iframe[src*='timeline']").length&&(""!=n&&(n+="|"),n+="timeline_js"),r("iframe[src*='highcharts']").length&&(""!=n&&(n+="|"),n+="highcharts"),r("script[src*='snapapp']").length&&(""!=n&&(n+="|"),n+="snapapp"),r("iframe[src*='google.com/maps']").length&&(""!=n&&(n+="|"),n+="google_maps"),r("iframe[src*='juxtapose']").length&&(""!=n&&(n+="|"),n+="juxtapose_js"),r("iframe[src*='mediamanager']").length&&(""!=n&&(n+="|"),n+="media_manager"),r("iframe[src*='youtube']").length&&(""!=n&&(n+="|"),n+="youtube"),""!=n&&"undefined"!==gtm_datalayer&&(gtm_datalayer.page.attributes.embedvalue=n,dataLayer.push({page:gtm_datalayer.page}))}},/Mobi/.test(navigator.userAgent)&&r(window).on("resize",function(){for(var e=r(".big-article .limelight-player-footprint"),t=0;t<e.length;t++){var n,i,o,s=r(e[t]);s&&(o=s.width(),n=s.height(),(i=s.closest(".article-embed, .article-content"))&&o&&n&&(o=(i=i.width())*(n/o),s.css("width",i),s.css("height",o)))}}),Drupal.behaviors.exampleModule={attach:function(e,t){/Mobi/.test(navigator.userAgent)&&r(".article-embed span.LimelightEmbeddedPlayer",e).length||r(".article-embed",e).fitVids({customSelector:n})}},Drupal.behaviors.fitIframeVIdeo={attach:function(e,t){r(".article-content").fitVids({customSelector:n}),/Mobi/.test(navigator.userAgent)?r(".article-content iframe").each(function(){var e=r(this).parent().width(),t=r(this).height/r(this).width;t&&(r(this).data("aspectRatio",t),r(this).height(t*e))}):r(".article-content iframe").each(function(){var e=r(this).attr("height");null!=(e=null==(e=null==e?a("height",r(this).attr("src")):e)?r(this).height():e)&&r(this).css("height",e+"px"),r(this).css("width","100%")})}},Drupal.behaviors.eloquaEmbeds={attach:function(e,t){r(".penton-eloqua-form:not(.js-elq-processed)",e).length&&r(".penton-eloqua-form:not(.js-elq-processed)",e).each(function(){var e,t=r(this),n=["elq","code","partnerref","PK","PR","em","asset","type1","type2","type3","utm_source","utm_medium","utm_name","utm_campaign","utm_content","_mc"],i=document.createElement("iframe"),o=[];for(e in i.src=t.data("src"),n){var s="elq"==n[e]?"elq2":n[e];a(s)&&o.push(n[e]+"="+a(s))}i.src+=o.length?"?"+o.join("&"):"",i.className="penton-eloqua-iframe",t.append(i),t.addClass(".js-elq-processed");t=t.find("iframe").attr("src");"undefined"!=typeof dataLayer&&dataLayer.push({page:{pageInfo:{eloquaFormSrc:t}},event:"embeddedFormLoad"})})}},Drupal.behaviors.aemEmbeds={attach:function(e,t){r(".aem-form:not(.js-aem-processed)",e).length&&r(".aem-form:not(.js-aem-processed)",e).each(function(){var e=r(this),t=document.createElement("iframe");t.src=e.data("src"),t.className="penton-aem-iframe",t.width="100%",t.height="100%",e.append(t),t.onload=function(){parent.scrollTo(0,0)},e.addClass("js-aem-processed")})}},Drupal.behaviors.relBlockLoad={attach:function(o,e){var s=".related-articles-row > .related-articles-wrapper",a="true";1==r(s,o).length&&r(window).scroll(function(){var e,t,n,i;(e=r(s,o),t=r(window).scrollTop(),n=t+r(window).height(),(i=r(e).offset().top)+r(e).height()<=n&&t<=i)&&"true"==a&&("undefined"!=typeof _satellite&&_satellite.track("LEGACY_REL_CONTENT_VIEWED"),"undefined"!=typeof dataLayer&&dataLayer.push({event:"LEGACY_REL_CONTENT_VIEWED"}),a="false")})}},Drupal.behaviors.tableHeaderTweaks={attach:function(e,t){r(".tablesorter",e).length&&r(".tablesorter",e).each(function(){var e=r(this).find("th[sort]");!e.length||r(this).find("th.headerSortDown").length||r(this).find("th.headerSortUp").length||e.addClass("asc"==e.attr("sort").toLowerCase()?"headerSortDown":"headerSortUp")})}},Drupal.addInfscrErrorHandler=function(){setTimeout(function(){r(".jscroll-loading").html("Failed to load next item."),setTimeout(function(){r(".jscroll-loading").fadeOut()},5e3)},12e4)},Drupal.behaviors.retina={attach:function(e){(1<window.devicePixelRatio||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)&&(r(".js-imgpxr",e).each(function(){var e=r(this).attr("data-x2src");e&&(void 0!==Drupal.behaviors.InformaLazyLoader?r(this).attr("data-src",e):r(this).attr("src",e))}),r(".js-imgpxr-bg",e).each(function(){var e=r(this).attr("data-x2src");e&&r(this).css({background:"url("+e+") center center no-repeat",backgroundSize:"contain"})}))}},Drupal.behaviors.show_on_action={attach:function(e){r(".js-action-trigger",e).each(function(){"nlemailhover"===r(this).attr("data-action")&&r(this).focus(function(){r('.js-hidden-till-action[data-action="nlemailhover"]',e).removeClass("invisible"),r(".newsletter-signup-input__container_2").removeClass("hidden"),r(".marketing-form-fields").removeClass("hidden"),r("#nsubscribe").css("padding-top","47px")})})}},Drupal.behaviors.facebook_embed_video={attach:function(e){r("iframe[src^='https://www.facebook.com/plugins/video.php']",e).each(function(){r(this).addClass("embed_video"),r(this).wrap('<div class="embed_video_wrapper"></div>')})}},Drupal.behaviors.dtm_call_rules={attach:function(e){"undefined"!=typeof _satellite&&r(".sattelite-event-caller",e).on("mousedown touchend",function(){var e=r(this);e.hasClass("sattelite-event-caller__header-clicked")?_satellite.track("REGISTER_HEADER_CLICKED"):e.hasClass("sattelite-event-caller__hamburger-clicked")?_satellite.track("LOGIN_REGISTER_HAMBURGER_CLICKED"):e.hasClass("sattelite-event-caller__newsletter-clicked")&&_satellite.track("SUBSCRIBE_NEWSLETTER_CLICKED")})}};var s="email-redirect-cookie";Drupal.behaviors.emailRedirectCookieSet={attach:function(e){var t,n=r(".ctools-modal-wrapper .close-reg-btn.close",e);n.length&&n.on("click",function(){r.cookie(s,null,{path:"/"})}),!r("[id^=penton-user-register-email-this-form]",e).length||0<=(n=r("form",e).attr("action")).indexOf("penton_modal")&&(t=new RegExp("penton_modal/ajax/forward/([0-9]*)/").exec(n)[1],r("a.ctools-modal-modal-popup-login",e).on("click",function(){r.cookie(s,t,{path:"/"})}))}},Drupal.behaviors.jqueryPlaceholder={attach:function(e){r("input, textarea").placeholder({customClass:"penton-placeholder"})}},Drupal.behaviors.fitGatedOverlay={attach:function(e){var o=r(".article-gated",e);o.length&&r(window).on("resize",function(){var e,t,n,i=o.find(".article-content");t=(e=i).find(".advanced-after-body-overlay"),n=e.find(".dfp-ad-hideempty"),i=e.width(),n.length&&t.length&&(n.position().top+n.height()>t.position().top&&(i=e.width()-n.width()),t.width(i))})}},Drupal.behaviors.upgradeMarketingServices={attach:function(e){e=r("#marketing-services-upgrade",e);e.length&&r(e).on("click",function(e){e.preventDefault(),r.ajax({method:"POST",async:!0,dataType:"json",url:"/ajax/marketing_services_upgrade/"}).done(function(e){window.top.location.reload(!0)})})}},Drupal.behaviors.set_user_info={attach:function(e){r.cookie("penton_user_name")&&(r(".js-penton-user-name",e).once("penton-user-name").html(r.cookie("penton_user_name").replace(/\+/g," ")),r("a.js-penton-user-url-edit",e).once("penton-user-url-edit").attr("href",r.cookie("penton_user_url_edit")),r("a.js-penton-user-url-preview",e).once("penton-user-url-preview").attr("href",r.cookie("penton_user_url_preview")),r("a.js-penton-user-url-profile",e).once("penton-user-url-profile").attr("href",r.cookie("penton_user_url_profile")),r(".js-penton-user-image",e).once("penton-user-image",function(){r.cookie("penton_user_image")&&r(this).html(r.cookie("penton_user_image").replace(/\+/g," "))}))}},r(function(){void 0!==Drupal.settings.is_blocked_ip&&1==Drupal.settings.is_blocked_ip&&(r(".banner-top-wrapper").addClass("hidden"),r(".banner-top-wrapper").css("padding","0px"),r(".banner-bottom-wrapper").addClass("hidden"),r(".banner-bottom-wrapper").css("padding","0px"),r(".banner-aside-wrapper").addClass("hidden"),r(".banner-aside-wrapper").next().addClass("hidden"));var e=r("body");e.on("click","#modalBackdrop",function(e){e.stopPropagation()}),"undefined"!=typeof DFPIframe&&void 0!==Drupal.Eloqua&&((i=new DFPIframe).setParams(Drupal.Eloqua.getAll()),i.exec()),breaky.above("small",function(){e.off("DOMSubtreeModified")}),breaky.below("small",function(){e.on("DOMSubtreeModified",function(){var e=r('iframe[src*="https://www.google.com/recaptcha/api2/frame"]');e.length&&setTimeout(function(){e.parent().parent().css({position:"fixed","z-index":99999999})},0)})}),Drupal.ajax.prototype.error=function(e,t){return location.reload(),!1},r(".wrapper.l-content, .js-header").click(function(e){"undefined"!=typeof PentonSingleHeader&&PentonSingleHeader.hideMenus(),e.stopPropagation()}),o=r(".footer-full-width").height(),r(".p-n-found").css("margin-bottom",o+"px"),r("#js-acc-sett-aside-btn").click(function(){r("#js-acc-sett-aside").addClass("account-settings-d-n"),r("#js-acc-sett-aside-no-edit").removeClass("account-settings-d-n")}),r("#js-acc-canc-aside-btn").click(function(e){e.preventDefault(),r("#js-acc-sett-aside").removeClass("account-settings-d-n"),r("#js-acc-sett-aside-no-edit").addClass("account-settings-d-n")}),r(".upload-user-pic").on("click",function(){r("#edit-picture-upload").trigger("click")}),r(".delete-image").on("click",function(){r("#edit-picture-delete").trigger("click"),r(".account-sidebar .account-sett-avatar img").attr("src","/sites/all/themes/penton_core_theme/images/account-default-image.png"),r(".delete-user-picture").remove(),r("#edit-picture-upload").val("")}),r("#edit-picture-upload").on("change",function(){r(".no-file-chosen").text("File chosen")});var n,t=r("#acc-sett-my-info").find("#js-acc-sett-my-info-btn-public"),i=r("#acc-sett-my-add").find("#js-acc-sett-my-info-btn-public"),o=r("#acc-sett-esp").find("#js-acc-sett-esp-btn-public");t.click(function(){var e;r(this).hasClass("ctools-use-modal")||(e=r(this).closest(".account-owner-page"),r(this).closest(".account-sett-cont-my-info").addClass("hidden"),e.find("#acc-sett-my-info-edit").removeClass("hidden"),e.find("#acc-sett-my-add").removeClass("hidden"),e.find("#acc-sett-my-add-edit").addClass("hidden"),void 0!==Drupal.ckeditorInit&&e.find("#acc-sett-my-info-edit textarea").each(function(){r(this).hasClass("ckeditor-processed")||Drupal.ckeditorInit(r(this).attr("id"))}))}),i.click(function(){var e;r(this).hasClass("ctools-use-modal")||(e=r(this).closest(".account-owner-page"),r(this).closest(".account-sett-cont-my-info").addClass("hidden"),e.find("#acc-sett-my-add-edit").removeClass("hidden"),e.find("#acc-sett-my-info").removeClass("hidden"),e.find("#acc-sett-my-info-edit").addClass("hidden"))}),o.click(function(){var e=r(this).closest(".account-owner-page");e.find("#acc-sett-esp").addClass("hidden"),e.find("#acc-sett-esp-edit").removeClass("hidden")}),r(".esp-cancel-btn").click(function(){var e=r(this).closest(".account-owner-page");e.find("#acc-sett-esp").removeClass("hidden"),e.find("#acc-sett-esp-edit").addClass("hidden")}),r(".cancel-btn").click(function(){var e=r(this).closest(".account-owner-page");e.find("#acc-sett-my-add-edit").addClass("hidden"),e.find("#acc-sett-my-info-edit").addClass("hidden"),e.find("#acc-sett-my-info").removeClass("hidden"),e.find("#acc-sett-my-add").removeClass("hidden")}),(i=r.cookie(s,{path:"/"}))&&(r.cookie(s,null,{path:"/"}),(o=r("article[data-nid]")).length&&o.data("nid")==i&&r("article a.ctools-modal-modal-popup-basic-email").click()),-1!==window.location.href.indexOf("dfp_log")&&r("a").attr("href",function(e,t){return void 0===t?t:t+(-1!==t.indexOf("?")?"&dfp_log":"?dfp_log")}),r(".content article .article-content iframe").each(function(e){r(this).removeAttr("height").removeAttr("width")}),"/commodities"==window.location.pathname&&0<jQuery(".cme-group-page-wrapper").next(".ad-wrapper").length&&(n=2,jQuery("[data-dfp-position=infinitescroll] .dfp-tags").each(function(){var e=jQuery(this).attr("data-targeting"),t=new RegExp(/pos=728_\d+_a/i);jQuery(this).attr("data-targeting",e.replace(t,function(){return n<=10?"pos=728_"+(n%10==0?10:n%10)+"_a":"pos=728_10_a"})),n++}))})}(jQuery)},function(e,t){!function(u){"use strict";u.fn.menumore=function(e){var c=u.extend({moreItem:".js-menumore-more-item",menuItemText:".js-menumore-item-text",submenu:".js-menumore-sub",liPaddings:0,parentPadding:0},e),d=u(this);return this.each(function(){u(window).on("resize",function(e){var t=d.find(c.submenu),n=d.parent().width()-c.parentPadding,i=t.outerWidth(),o=d.find("> li:not("+c.moreItem+")"),s=[];if(o.each(function(){var e=u(this);e.hasClass(c.menuItemText.substr(1))?i+=e.outerWidth()+c.liPaddings:i+=e.find(c.menuItemText).outerWidth()+c.liPaddings,n<i&&s.push(e)}),d.parents(".js-menu-toggler").length&&d.parents(".js-menu-toggler").find(".js-menu-toggler-link").length&&"none"!==d.parents(".js-menu-toggler").find(".js-menu-toggler-link").css("display"))t.find("> li").insertBefore(d.find(c.moreItem));else if(0<s.length)e.preventDefault(),s.reverse().forEach(function(e){e.prependTo(t)});else if(i<n)for(var s=[],a=t.find("> li"),r=0;r<a.length;r++){var l=u(a[r]).clone();if(l.insertBefore(d.find(c.moreItem)),u(l).hasClass(c.menuItemText.substr(1))?i+=u(l).outerWidth()+c.liPaddings:i+=u(l).find(c.menuItemText).outerWidth()+c.liPaddings,!(i<n)){u(l).hasClass(c.menuItemText.substr(1))?i-=u(l).outerWidth()+c.liPaddings:i-=u(l).find(c.menuItemText).outerWidth()+c.liPaddings,l.remove();break}u(a[r]).remove()}e=d.find(c.moreItem);0<e.find("li").length?e.css("display","inline-table"):e.hide()}),u(window).trigger("resize")})}}(jQuery)},function(e,t){window.PentonSingleSidebar={},window.PentonSingleSidebarBanner={},function(g){"use strict";g(function(){var e=0,t=0,n=!1,i=!1,o=!1,s=!0,a=g(window),r=g(".js-sticky-leftcol"),l=g(".js-expand-sidebar span"),c=(g(".wrapper.l-content"),g(".l-sidebar")),d=!1,u=g(".js-sticky-banner");if(0===c.length)return!1;function h(){PentonSingleSidebar.isSticky()?PentonSingleSidebar.sticked():PentonSingleSidebar.unsticked()}function p(){u.length&&(!d&&!s&&(0===t?u.position().top<=0:t<=r.scrollTop())?PentonSingleSidebarBanner.sticked():PentonSingleSidebarBanner.unsticked())}function f(){return g("main").length?parseInt(g("main").css("padding-top"),10):0}PentonSingleSidebar.inSticked=function(){i=!1,(PentonSingleSidebar.isSticky()||d)&&PentonSingleSidebar.sticked()},PentonSingleSidebar.inUnsticked=function(){i=!0,PentonSingleSidebar.isSticky()||PentonSingleSidebar.unsticked()},PentonSingleSidebar.isSticky=function(){return a.scrollTop()>c.offset().top-(PentonSingleHeader.getHeight().minHeight+function(){n||(e=g(".admin-menu").length?parseInt(g(".admin-menu").css("margin-top"),10):0,n=!0);return e}())},PentonSingleSidebar.sticked=function(){var e=f();r.css("top",e),i||(i=!0,r.trigger("penton:sidebar:prepare:sticked"),r.css({position:"fixed","margin-top":0,height:"auto"}),r.trigger("penton:sidebar:sticked"))},PentonSingleSidebar.unsticked=function(){var e=f();r.css("top",e),i&&(r.trigger("penton:sidebar:prepare:unsticked"),i=!1,r.css("height","auto"),e=d?"0":"5px",r.css("position",d?"fixed":"initial"),r.css("margin-top",e),r.trigger("penton:sidebar:unsticked"))},PentonSingleSidebar.collapse=function(){var e="Recent";l.hasClass("slide-out-acc-sett")?e="Account Settings":l.hasClass("slide-out-videos")&&(e="Filter"),l.text(e),c.removeClass("expanded"),g("html").hasClass("informa-redesign")||l.parent().css("margin-left",317),r.trigger("penton:sidebar:collapse")},PentonSingleSidebar.expand=function(){l.text("Close"),c.addClass("expanded"),PentonSingleSidebar.buttonPosition(),r.trigger("penton:sidebar:expand")},PentonSingleSidebar.buttonPosition=function(){var e;!g("html").hasClass("informa-redesign")&&g(window).width()<992&&c.hasClass("expanded")&&(e=g(".sidebar .sidebar-scrollable").width()-40,e=g(window).width()<327?e:g(window).width()<390?287:317,l.parent().css("margin-left",e))},PentonSingleSidebarBanner.sticked=function(){o||(o=!0,t=r.scrollTop()),u.css({top:r.scrollTop(),position:"absolute"})},PentonSingleSidebarBanner.unsticked=function(){o&&(o=!1,t=0,u.css({top:0,position:"relative"}))},g(".js-expand-sidebar").on("click",function(){c.hasClass("expanded")?PentonSingleSidebar.collapse():PentonSingleSidebar.expand()}),g(window).on("resize",function(){PentonSingleSidebar.buttonPosition()}),breaky.above("small",function(){c.removeClass("collapsible"),d=!1,h(),p()}),breaky.below("small",function(){c.addClass("collapsible"),d=!0,PentonSingleSidebar.collapse(),PentonSingleSidebarBanner.unsticked(),PentonSingleSidebar.sticked()}),r.areaScroll(function(){s=!1,h(),p()}),r.on("scroll mousewheel",p),g(window).on("scroll mousewheel",h),h()})}(jQuery)}]);
;/*})'"*/
;/*})'"*/
!function(t){"use strict";t.jscroll={defaults:{debug:!1,autoTrigger:!0,autoTriggerUntil:!1,loadingHtml:"<small>Loading...</small>",loadingFunction:!1,padding:0,nextSelector:"a:last",contentSelector:"",pagingSelector:"",callback:!1}};var e=function(e,o){var i=e.data("jscroll"),n="function"==typeof o?{callback:o}:o,s=t.extend({},t.jscroll.defaults,n,i||{}),a="visible"===e.css("overflow-y"),r=e.find(s.nextSelector).first(),l=t(window),c=t("body"),d=a?l:e,u=t.trim(r.attr("href")+" "+s.contentSelector),p=function(){var e=t(s.loadingHtml).filter("img").attr("src");if(e){var o=new Image;o.src=e}},f=function(){e.find(".jscroll-inner").length||e.contents().wrapAll('<div class="jscroll-inner" />')},h=function(t){var e;s.pagingSelector?t.closest(s.pagingSelector).hide():(e=t.parent().not(".jscroll-inner,.jscroll-added").addClass("jscroll-next-parent").hide(),e.length||t.wrap('<div class="jscroll-next-parent" />').parent().hide())},g=function(){return d.unbind(".jscroll").removeData("jscroll").find(".jscroll-inner").children().unwrap().filter(".jscroll-added").children().unwrap()},m=function(){if(e.is(":visible")){f();var t=e.find("div.jscroll-inner").first(),o=e.data("jscroll"),i=parseInt(e.css("borderTopWidth"),10),n=isNaN(i)?0:i,r=parseInt(e.css("paddingTop"),10)+n,l=a?d.scrollTop():e.offset().top,c=t.length?t.offset().top:0,u=Math.ceil(l-c+d.height()+r);if(!o.waiting&&u+s.padding>=t.outerHeight())return w("info","jScroll:",t.outerHeight()-u,"from bottom. Loading next request..."),y()}},v=function(t){return t=t||e.data("jscroll"),t&&t.nextHref?(b(),!0):(w("warn","jScroll: nextSelector not found - destroying"),g(),!1)},b=function(){var o=e.find(s.nextSelector).first();if(o.length)if(s.autoTrigger&&(s.autoTriggerUntil===!1||s.autoTriggerUntil>0)){h(o);var i=c.height()-e.offset().top,n=e.height()<i?e.height():i,a=e.offset().top-l.scrollTop()>0?l.height()-(e.offset().top-t(window).scrollTop()):l.height();n<=a&&m(),d.unbind(".jscroll").bind("scroll.jscroll",function(){return m()}),s.autoTriggerUntil>0&&s.autoTriggerUntil--}else d.unbind(".jscroll"),o.bind("click.jscroll",function(){return h(o),y(),!1})},y=function(){var o=e.find("div.jscroll-inner").first(),i=e.data("jscroll");return i.waiting=!0,o.append('<div class="jscroll-added" />').children(".jscroll-added").last().html('<div class="jscroll-loading" id="jscroll-loading">'+s.loadingHtml+"</div>").promise().done(function(){s.loadingFunction&&s.loadingFunction()}),e.animate({scrollTop:o.outerHeight()},0,function(){var n=i.nextHref;o.find("div.jscroll-added").last().load(n,function(o,a){if("error"===a)return g();var r=t(this).find(s.nextSelector).first();i.waiting=!1,i.nextHref=!!r.attr("href")&&t.trim(r.attr("href")+" "+s.contentSelector),t(".jscroll-next-parent",e).remove(),v(),s.callback&&s.callback.call(this,n),w("dir",i)})})},w=function(t){if(s.debug&&"object"==typeof console&&("object"==typeof t||"function"==typeof console[t]))if("object"==typeof t){var e=[];for(var o in t)"function"==typeof console[o]?(e=t[o].length?t[o]:[t[o]],console[o].apply(console,e)):console.log.apply(console,e)}else console[t].apply(console,Array.prototype.slice.call(arguments,1))};return e.data("jscroll",t.extend({},i,{initialized:!0,waiting:!1,nextHref:u})),f(),p(),b(),t.extend(e.jscroll,{destroy:g}),e};t.fn.jscroll=function(o){return this.each(function(){var i=t(this),n=i.data("jscroll");n&&n.initialized||e(i,o)})}}(jQuery),function(t){"use strict";t.fn.fitVids=function(e){var o={customSelector:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],n=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",s=document.createElement("div");s.innerHTML='<p>x</p><style id="fit-vids-style">'+n+"</style>",i.appendChild(s.childNodes[1])}return e&&t.extend(o,e),this.each(function(){var e=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];o.customSelector&&e.push(o.customSelector);var i=t(this).find(e.join(","));i=i.not("object object"),i.each(function(){var e=t(this);if(!("embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){var o="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),i=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),n=o/i;if(!e.attr("id")){var s="fitvid"+Math.floor(999999*Math.random());e.attr("id",s)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),e.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(t){function e(e,s){if(this.element=e,this.options=t.extend({},i,s),t(this.element).data("max-height",this.options.maxHeight),t(this.element).data("height-margin",this.options.heightMargin),delete this.options.maxHeight,this.options.embedCSS&&!n){var a=".readmore-js-toggle, .readmore-js-section { "+this.options.sectionCSS+" } .readmore-js-section { overflow: hidden; }";!function(t,e){var o=t.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),t.getElementsByTagName("head")[0].appendChild(o)}(document,a),n=!0}this._defaults=i,this._name=o,this.init()}var o="readmore",i={speed:100,maxHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,sectionCSS:"display: block; width: 100%;",startOpen:!1,expandedClass:"readmore-js-expanded",collapsedClass:"readmore-js-collapsed",beforeToggle:function(){},afterToggle:function(){}},n=!1;e.prototype={init:function(){var e=this;t(this.element).each(function(){var o=t(this),i=o.css("max-height").replace(/[^-\d\.]/g,"")>o.data("max-height")?o.css("max-height").replace(/[^-\d\.]/g,""):o.data("max-height"),n=o.data("height-margin");if("none"!=o.css("max-height")&&o.css("max-height","none"),e.setBoxHeight(o),o.outerHeight(!0)<=i+n)return!0;o.addClass("readmore-js-section "+e.options.collapsedClass).data("collapsedHeight",i);var s=e.options.startOpen?e.options.lessLink:e.options.moreLink;o.after(t(s).on("click",function(t){e.toggleSlider(this,o,t)}).addClass("readmore-js-toggle")),e.options.startOpen||o.css({height:i})}),t(window).on("resize",function(t){e.resizeBoxes()})},toggleSlider:function(e,o,i){i.preventDefault();var n=this,s=newLink=sectionClass="",a=!1,r=t(o).data("collapsedHeight");t(o).height()<=r?(s=t(o).data("expandedHeight")+"px",newLink="lessLink",a=!0,sectionClass=n.options.expandedClass):(s=r,newLink="moreLink",sectionClass=n.options.collapsedClass),n.options.beforeToggle(e,o,a),t(o).animate({height:s},{duration:n.options.speed,complete:function(){n.options.afterToggle(e,o,a),t(e).replaceWith(t(n.options[newLink]).on("click",function(t){n.toggleSlider(this,o,t)}).addClass("readmore-js-toggle")),t(this).removeClass(n.options.collapsedClass+" "+n.options.expandedClass).addClass(sectionClass)}})},setBoxHeight:function(t){var e=t.clone().css({height:"auto",width:t.width(),overflow:"hidden"}).insertAfter(t),o=e.outerHeight(!0);e.remove(),t.data("expandedHeight",o)},resizeBoxes:function(){var e=this;t(".readmore-js-section").each(function(){var o=t(this);e.setBoxHeight(o),(o.height()>o.data("expandedHeight")||o.hasClass(e.options.expandedClass)&&o.height()<o.data("expandedHeight"))&&o.css("height",o.data("expandedHeight"))})},destroy:function(){var e=this;t(this.element).each(function(){var o=t(this);o.removeClass("readmore-js-section "+e.options.collapsedClass+" "+e.options.expandedClass).css({"max-height":"",height:"auto"}).next(".readmore-js-toggle").remove(),o.removeData()})}},t.fn[o]=function(i){var n=arguments;return void 0===i||"object"==typeof i?this.each(function(){if(t.data(this,"plugin_"+o)){var n=t.data(this,"plugin_"+o);n.destroy.apply(n)}t.data(this,"plugin_"+o,new e(this,i))}):"string"==typeof i&&"_"!==i[0]&&"init"!==i?this.each(function(){var s=t.data(this,"plugin_"+o);s instanceof e&&"function"==typeof s[i]&&s[i].apply(s,Array.prototype.slice.call(n,1))}):void 0}}(jQuery),function(t,e,o){"function"==typeof define&&define.amd?define(["jquery"],function(i){return o(i,t,e),i.mobile}):o(t.jQuery,t,e)}(this,document,function(t,e,o,i){!function(t,e,o,i){function n(t){for(;t&&"undefined"!=typeof t.originalEvent;)t=t.originalEvent;return t}function s(e,o){var s,a,r,l,c,d,u,p,f,h=e.type;if(e=t.Event(e),e.type=o,s=e.originalEvent,a=t.event.props,h.search(/^(mouse|click)/)>-1&&(a=N),s)for(u=a.length,l;u;)l=a[--u],e[l]=s[l];if(h.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),h.search(/^touch/)!==-1&&(r=n(s),h=r.touches,c=r.changedTouches,d=h&&h.length?h[0]:c&&c.length?c[0]:i))for(p=0,f=L.length;p<f;p++)l=L[p],e[l]=d[l];return e}function a(e){for(var o,i,n={};e;){o=t.data(e,k);for(i in o)o[i]&&(n[i]=n.hasVirtualBinding=!0);e=e.parentNode}return n}function r(e,o){for(var i;e;){if(i=t.data(e,k),i&&(!o||i[o]))return e;e=e.parentNode}return null}function l(){P=!1}function c(){P=!0}function d(){Y=0,M.length=0,B=!1,c()}function u(){l()}function p(){f(),z=setTimeout(function(){z=0,d()},t.vmouse.resetTimerDuration)}function f(){z&&(clearTimeout(z),z=0)}function h(e,o,i){var n;return(i&&i[e]||!i&&r(o.target,e))&&(n=s(o,e),t(o.target).trigger(n)),n}function g(e){var o,i=t.data(e.target,C);B||Y&&Y===i||(o=h("v"+e.type,e),o&&(o.isDefaultPrevented()&&e.preventDefault(),o.isPropagationStopped()&&e.stopPropagation(),o.isImmediatePropagationStopped()&&e.stopImmediatePropagation()))}function m(e){var o,i,s,r=n(e).touches;r&&1===r.length&&(o=e.target,i=a(o),i.hasVirtualBinding&&(Y=q++,t.data(o,C,Y),f(),u(),I=!1,s=n(e).touches[0],D=s.pageX,A=s.pageY,h("vmouseover",e,i),h("vmousedown",e,i)))}function v(t){P||(I||h("vmousecancel",t,a(t.target)),I=!0,p())}function b(e){if(!P){var o=n(e).touches[0],i=I,s=t.vmouse.moveDistanceThreshold,r=a(e.target);I=I||Math.abs(o.pageX-D)>s||Math.abs(o.pageY-A)>s,I&&!i&&h("vmousecancel",e,r),h("vmousemove",e,r),p()}}function y(t){if(!P){c();var e,o,i=a(t.target);h("vmouseup",t,i),I||(e=h("vclick",t,i),e&&e.isDefaultPrevented()&&(o=n(t).changedTouches[0],M.push({touchID:Y,x:o.clientX,y:o.clientY}),B=!0)),h("vmouseout",t,i),I=!1,p()}}function w(e){var o,i=t.data(e,k);if(i)for(o in i)if(i[o])return!0;return!1}function x(){}function j(e){var o=e.substr(1);return{setup:function(){w(this)||t.data(this,k,{});var i=t.data(this,k);i[e]=!0,O[e]=(O[e]||0)+1,1===O[e]&&F.bind(o,g),t(this).bind(o,x),R&&(O.touchstart=(O.touchstart||0)+1,1===O.touchstart&&F.bind("touchstart",m).bind("touchend",y).bind("touchmove",b).bind("scroll",v))},teardown:function(){--O[e],O[e]||F.unbind(o,g),R&&(--O.touchstart,O.touchstart||F.unbind("touchstart",m).unbind("touchmove",b).unbind("touchend",y).unbind("scroll",v));var i=t(this),n=t.data(this,k);n&&(n[e]=!1),i.unbind(o,x),w(this)||i.removeData(k)}}}var S,T,k="virtualMouseBindings",C="virtualTouchID",E="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),L="clientX clientY pageX pageY screenX screenY".split(" "),H=t.event.mouseHooks?t.event.mouseHooks.props:[],N=t.event.props.concat(H),O={},z=0,D=0,A=0,I=!1,M=[],B=!1,P=!1,R="addEventListener"in o,F=t(o),q=1,Y=0;for(t.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},T=0;T<E.length;T++)t.event.special[E[T]]=j(E[T]);R&&o.addEventListener("click",function(e){var o,i,n,s,a,r,l=M.length,c=e.target;if(l)for(o=e.clientX,i=e.clientY,S=t.vmouse.clickDistanceThreshold,n=c;n;){for(s=0;s<l;s++)if(a=M[s],r=0,n===c&&Math.abs(a.x-o)<S&&Math.abs(a.y-i)<S||t.data(n,C)===a.touchID)return e.preventDefault(),void e.stopPropagation();n=n.parentNode}},!0)}(t,e,o),function(t){t.mobile={}}(t),function(t,e){var i={touch:"ontouchend"in o};t.mobile.support=t.mobile.support||{},t.extend(t.support,i),t.extend(t.mobile.support,i)}(t),function(t,e,i){function n(e,o,i){var n=i.type;i.type=o,t.event.dispatch.call(e,i),i.type=n}var s=t(o),a=t.mobile.support.touch,r="touchmove scroll",l=a?"touchstart":"mousedown",c=a?"touchend":"mouseup",d=a?"touchmove":"mousemove";t.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,o){t.fn[o]=function(t){return t?this.bind(o,t):this.trigger(o)},t.attrFn&&(t.attrFn[o]=!0)}),t.event.special.scrollstart={enabled:!0,setup:function(){function e(t,e){o=e,n(s,o?"scrollstart":"scrollstop",t)}var o,i,s=this,a=t(s);a.bind(r,function(n){t.event.special.scrollstart.enabled&&(o||e(n,!0),clearTimeout(i),i=setTimeout(function(){e(n,!1)},50))})},teardown:function(){t(this).unbind(r)}},t.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var e=this,o=t(e),i=!1;o.bind("vmousedown",function(a){function r(){clearTimeout(d)}function l(){r(),o.unbind("vclick",c).unbind("vmouseup",r),s.unbind("vmousecancel",l)}function c(t){l(),i||u!==t.target?i&&t.stopPropagation():n(e,"tap",t)}if(i=!1,a.which&&1!==a.which)return!1;var d,u=a.target;o.bind("vmouseup",r).bind("vclick",c),s.bind("vmousecancel",l),d=setTimeout(function(){t.event.special.tap.emitTapOnTaphold&&(i=!0),n(e,"taphold",t.Event("taphold",{target:u}))},t.event.special.tap.tapholdThreshold)})},teardown:function(){t(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),s.unbind("vmousecancel")}},t.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(e){var o=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[o.pageX,o.pageY],origin:t(e.target)}},stop:function(t){var e=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[e.pageX,e.pageY]}},handleSwipe:function(e,o,i,s){if(o.time-e.time<t.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-o.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-o.coords[1])<t.event.special.swipe.verticalDistanceThreshold){var a=e.coords[0]>o.coords[0]?"swipeleft":"swiperight";n(i,"swipe",t.Event("swipe",{target:s})),n(i,a,t.Event(a,{target:s}))}},setup:function(){var e=this,o=t(e);o.bind(l,function(n){function s(e){r&&(a=t.event.special.swipe.stop(e),Math.abs(r.coords[0]-a.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())}var a,r=t.event.special.swipe.start(n),l=n.target;o.bind(d,s).one(c,function(){o.unbind(d,s),r&&a&&t.event.special.swipe.handleSwipe(r,a,e,l),r=a=i})})},teardown:function(){t(this).unbind(l).unbind(d).unbind(c)}},t.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(e,o){t.event.special[e]={setup:function(){t(this).bind(o,t.noop)},teardown:function(){t(this).unbind(o)}}})}(t,this)}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(t){function e(e){var o={},i=/^jQuery\d+$/;return t.each(e.attributes,function(t,e){e.specified&&!i.test(e.name)&&(o[e.name]=e.value)}),o}function o(e,o){var i=this,s=t(this);if(i.value===s.attr(r?"placeholder-x":"placeholder")&&s.hasClass(f.customClass))if(i.value="",s.removeClass(f.customClass),s.data("placeholder-password")){if(s=s.hide().nextAll('input[type="password"]:first').show().attr("id",s.removeAttr("id").data("placeholder-id")),e===!0)return s[0].value=o,o;s.focus()}else i==n()&&i.select()}function i(i){var n,s=this,a=t(this),l=s.id;if(!i||"blur"!==i.type||!a.hasClass(f.customClass))if(""===s.value){if("password"===s.type){if(!a.data("placeholder-textinput")){try{n=a.clone().prop({type:"text"})}catch(c){n=t("<input>").attr(t.extend(e(this),{type:"text"}))}n.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":a,"placeholder-id":l}).bind("focus.placeholder",o),a.data({"placeholder-textinput":n,"placeholder-id":l}).before(n)}s.value="",a=a.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",a.data("placeholder-id")).show()}else{var d=a.data("placeholder-password");d&&(d[0].value="",a.attr("id",a.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}a.addClass(f.customClass),a[0].value=a.attr(r?"placeholder-x":"placeholder")}else a.removeClass(f.customClass)}function n(){try{return document.activeElement}catch(t){}}var s,a,r=!1,l="[object OperaMini]"===Object.prototype.toString.call(window.operamini),c="placeholder"in document.createElement("input")&&!l&&!r,d="placeholder"in document.createElement("textarea")&&!l&&!r,u=t.valHooks,p=t.propHooks,f={};c&&d?(a=t.fn.placeholder=function(){return this},a.input=!0,a.textarea=!0):(a=t.fn.placeholder=function(e){var n={customClass:"placeholder"};return f=t.extend({},n,e),this.filter((c?"textarea":":input")+"["+(r?"placeholder-x":"placeholder")+"]").not("."+f.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":o,"blur.placeholder":i}).data("placeholder-enabled",!0).trigger("blur.placeholder")},a.input=c,a.textarea=d,s={get:function(e){var o=t(e),i=o.data("placeholder-password");return i?i[0].value:o.data("placeholder-enabled")&&o.hasClass(f.customClass)?"":e.value},set:function(e,s){var a,r,l=t(e);return""!==s&&(a=l.data("placeholder-textinput"),r=l.data("placeholder-password"),a?(o.call(a[0],!0,s)||(e.value=s),a[0].value=s):r&&(o.call(e,!0,s)||(r[0].value=s),e.value=s)),l.data("placeholder-enabled")?(""===s?(e.value=s,e!=n()&&i.call(e)):(l.hasClass(f.customClass)&&o.call(e),e.value=s),l):(e.value=s,l)}},c||(u.input=s,p.value=s),d||(u.textarea=s,p.value=s),t(function(){t(document).delegate("form","submit.placeholder",function(){var e=t("."+f.customClass,this).each(function(){o.call(this,!0,"")});setTimeout(function(){e.each(i)},10)})}),t(window).bind("beforeunload.placeholder",function(){var e=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(e=!1)}catch(o){}e&&t("."+f.customClass).each(function(){this.value=""})}))}),!function(t,e){if("object"==typeof module&&"object"==typeof module.exports){if(!t.document)throw new Error("HC-Sticky requires a browser to run.");module.exports=e(t)}else"function"==typeof define&&define.amd?define("hcSticky",[],e(t)):e(t)}("undefined"!=typeof window?window:this,function(t){var e=t.document,o={top:0,bottom:0,bottomEnd:0,innerTop:0,innerSticker:null,stickyClass:"sticky",stickTo:null,followScroll:!0,responsive:null,mobileFirst:!1,onStart:null,onStop:null,onBeforeResize:null,onResize:null,resizeDebounce:100,disable:!1},i=function(t,e,o){console.warn("%cHC Sticky:%c "+o+"%c '"+t+"'%c is now deprecated and will be removed. Use%c '"+e+"'%c instead.","color: #fa253b","color: default","color: #5595c6","color: default","color: #5595c6","color: default")},n=function(s,a){function r(t){t=t||{},x.isEmptyObject(t)&&!x.isEmptyObject(w)||(w=Object.assign({},o,w,t))}function l(){return w.disable}function c(){var e,i=w.responsive||w.queries;if(i){var n=t.innerWidth;if(e=a,(w=Object.assign({},o,e||{})).mobileFirst)for(var s in i)s<=n&&!x.isEmptyObject(i[s])&&r(i[s]);else{var l=[];for(var c in i){var d={};d[c]=i[c],l.push(d)}for(var u=l.length-1;0<=u;u--){var p=l[u],f=Object.keys(p)[0];n<=f&&!x.isEmptyObject(p[f])&&r(p[f])}}}}function d(){var o,i,n,a;Y.css=(o=s,i=x.getCascadedStyle(o),n=x.getStyle(o),a={height:o.offsetHeight+"px",left:i.left,right:i.right,top:i.top,bottom:i.bottom,position:n.position,display:n.display,verticalAlign:n.verticalAlign,boxSizing:n.boxSizing,marginLeft:i.marginLeft,marginRight:i.marginRight,marginTop:i.marginTop,marginBottom:i.marginBottom,paddingLeft:i.paddingLeft,paddingRight:i.paddingRight},i["float"]&&(a["float"]=i["float"]||"none"),i.cssFloat&&(a.cssFloat=i.cssFloat||"none"),n.MozBoxSizing&&(a.MozBoxSizing=n.MozBoxSizing),a.width="auto"!==i.width?i.width:"border-box"===a.boxSizing||"border-box"===a.MozBoxSizing?o.offsetWidth+"px":n.width,a),X.init(),S=!(!w.stickTo||!("document"===w.stickTo||w.stickTo.nodeType&&9===w.stickTo.nodeType||"object"==typeof w.stickTo&&w.stickTo instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document))),T=w.stickTo?S?e:"string"==typeof w.stickTo?e.querySelector(w.stickTo):w.stickTo:j,B=(F=function(){var t=s.offsetHeight+(parseInt(Y.css.marginTop)||0)+(parseInt(Y.css.marginBottom)||0),e=(B||0)-t;return-1<=e&&e<=1?B:t})(),C=(R=function(){return S?Math.max(e.documentElement.clientHeight,e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight):T.offsetHeight})(),E=S?0:x.offset(T).top,L=w.stickTo?S?0:x.offset(j).top:E,H=t.innerHeight,P=s.offsetTop-(parseInt(Y.css.marginTop)||0),k=w.innerSticker?"string"==typeof w.innerSticker?e.querySelector(w.innerSticker):w.innerSticker:null,N=isNaN(w.top)&&-1<w.top.indexOf("%")?parseFloat(w.top)/100*H:w.top,O=isNaN(w.bottom)&&-1<w.bottom.indexOf("%")?parseFloat(w.bottom)/100*H:w.bottom,z=k?k.offsetTop:w.innerTop?w.innerTop:0,D=isNaN(w.bottomEnd)&&-1<w.bottomEnd.indexOf("%")?parseFloat(w.bottomEnd)/100*H:w.bottomEnd,A=E-N+z+P}function u(){B=F(),C=R(),I=E+C-N-D,M=H<B;var o,i=t.pageYOffset||e.documentElement.scrollTop,n=x.offset(s).top,a=n-i;q=i<Q?"up":"down",U=i-Q,A<(Q=i)?I+N+(M?O:0)-(w.followScroll&&M?0:N)<=i+B-z-(H-(A-z)<B-z&&w.followScroll&&0<(o=B-H-z)?o:0)?Y.release({position:"absolute",bottom:L+j.offsetHeight-I-N}):M&&w.followScroll?"down"==q?a+B+O<=H+.9?Y.stick({bottom:O}):"fixed"===Y.position&&Y.release({position:"absolute",top:n-N-A-U+z}):Math.ceil(a+z)<0&&"fixed"===Y.position?Y.release({position:"absolute",top:n-N-A+z-U}):i+N-z<=n&&Y.stick({top:N-z}):Y.stick({top:N-z}):Y.release({stop:!0})}function p(){V&&(t.removeEventListener("scroll",u,x.supportsPassive),V=!1)}function f(){null!==s.offsetParent&&"none"!==x.getStyle(s,"display")?(d(),C<B?p():(u(),V||(t.addEventListener("scroll",u,x.supportsPassive),V=!0))):p()}function h(){s.style.position="",s.style.left="",s.style.top="",s.style.bottom="",s.style.width="",s.classList?s.classList.remove(w.stickyClass):s.className=s.className.replace(new RegExp("(^|\\b)"+w.stickyClass.split(" ").join("|")+"(\\b|$)","gi")," "),Y.css={},!(Y.position=null)===X.isAttached&&X.detach()}function g(){h(),c(),(l()?p:f)()}function m(){w.onBeforeResize&&w.onBeforeResize.call(s,Object.assign({},w)),g(),w.onResize&&w.onResize.call(s,Object.assign({},w))}function v(){W&&(t.removeEventListener("resize",_,x.supportsPassive),W=!1),p()}function b(){W||(t.addEventListener("resize",_,x.supportsPassive),W=!0),c(),(l()?p:f)()}var y=this;if(a=a||{},"string"==typeof s&&(s=e.querySelector(s)),!s)return!1;a.queries&&i("queries","responsive","option"),a.queryFlow&&i("queryFlow","mobileFirst","option");var w={},x=n.Helpers,j=s.parentNode;"static"===x.getStyle(j,"position")&&(j.style.position="relative");var S,T,k,C,E,L,H,N,O,z,D,A,I,M,B,P,R,F,q,Y={css:{},position:null,stick:function(t){t=t||{},x.hasClass(s,w.stickyClass)||(!1===X.isAttached&&X.attach(),Y.position="fixed",s.style.position="fixed",s.style.left=X.offsetLeft+"px",s.style.width=X.width,void 0===t.bottom?s.style.bottom="auto":s.style.bottom=t.bottom+"px",void 0===t.top?s.style.top="auto":s.style.top=t.top+"px",s.classList?s.classList.add(w.stickyClass):s.className+=" "+w.stickyClass,w.onStart&&w.onStart.call(s,Object.assign({},w)))},release:function(t){if((t=t||{}).stop=t.stop||!1,!0===t.stop||"fixed"===Y.position||null===Y.position||!(void 0===t.top&&void 0===t.bottom||void 0!==t.top&&(parseInt(x.getStyle(s,"top"))||0)===t.top||void 0!==t.bottom&&(parseInt(x.getStyle(s,"bottom"))||0)===t.bottom)){!0===t.stop?!0===X.isAttached&&X.detach():!1===X.isAttached&&X.attach();var e=t.position||Y.css.position;Y.position=e,s.style.position=e,s.style.left=!0===t.stop?Y.css.left:X.positionLeft+"px",s.style.width="absolute"!==e?Y.css.width:X.width,void 0===t.bottom?s.style.bottom=!0===t.stop?"":"auto":s.style.bottom=t.bottom+"px",void 0===t.top?s.style.top=!0===t.stop?"":"auto":s.style.top=t.top+"px",s.classList?s.classList.remove(w.stickyClass):s.className=s.className.replace(new RegExp("(^|\\b)"+w.stickyClass.split(" ").join("|")+"(\\b|$)","gi")," "),w.onStop&&w.onStop.call(s,Object.assign({},w))}}},X={el:e.createElement("div"),offsetLeft:null,positionLeft:null,width:null,isAttached:!1,init:function(){for(var t in X.el.className="sticky-spacer",Y.css)X.el.style[t]=Y.css[t];X.el.style["z-index"]="-1";var e=x.getStyle(s);X.offsetLeft=x.offset(s).left-(parseInt(e.marginLeft)||0),X.positionLeft=x.position(s).left,X.width=x.getStyle(s,"width")},attach:function(){j.insertBefore(X.el,s),X.isAttached=!0},detach:function(){X.el=j.removeChild(X.el),X.isAttached=!1}},Q=t.pageYOffset||e.documentElement.scrollTop,U=0,V=!1,W=!1,_=w.resizeDebounce?x.debounce(m,w.resizeDebounce):m;this.options=function(t){return t?w[t]:Object.assign({},w)},this.refresh=g,this.update=function(t){r(t),a=Object.assign({},a,t||{}),g()},this.attach=b,this.detach=v,this.destroy=function(){v(),h()},this.triggerMethod=function(t,e){"function"==typeof y[t]&&y[t](e)},this.reinit=function(){i("reinit","refresh","method"),g()},r(a),b(),t.addEventListener("load",g)};if(void 0!==t.jQuery){var s=t.jQuery,a="hcSticky";s.fn.extend({hcSticky:function(t,e){return this.length?"options"===t?s.data(this.get(0),a).options():this.each(function(){var o=s.data(this,a);o?o.triggerMethod(t,e):(o=new n(this,t),s.data(this,a,o))}):this}})}return t.hcSticky=t.hcSticky||n,n}),function(t){function e(e,o){return t.getComputedStyle?o?n.defaultView.getComputedStyle(e,null).getPropertyValue(o):n.defaultView.getComputedStyle(e,null):e.currentStyle?o?e.currentStyle[o.replace(/-\w/g,function(t){return t.toUpperCase().replace("-","")})]:e.currentStyle:void 0}function o(e){var o=e.getBoundingClientRect(),i=t.pageYOffset||n.documentElement.scrollTop,s=t.pageXOffset||n.documentElement.scrollLeft;return{top:o.top+i,left:o.left+s}}var i=t.hcSticky,n=t.document;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s])}return o},writable:!0,configurable:!0}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var e,o;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),n=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(e=arguments[1]),o=0;o<n;){var s;o in i&&(s=i[o],t.call(e,s,o,i)),o++}});var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s={passive:!1}}});t.addEventListener("testPassive",null,a),t.removeEventListener("testPassive",null,a)}catch(i){}i.Helpers={supportsPassive:s,isEmptyObject:function(t){for(var e in t)return!1;return!0},debounce:function(t,e,o){var i;return function(){var n=this,s=arguments,a=o&&!i;clearTimeout(i),i=setTimeout(function(){i=null,o||t.apply(n,s)},e),a&&t.apply(n,s)}},hasClass:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},offset:o,position:function(t){var i=t.offsetParent,n=o(i),s=o(t),a=e(i),r=e(t);return n.top+=parseInt(a.borderTopWidth)||0,n.left+=parseInt(a.borderLeftWidth)||0,{top:s.top-n.top-(parseInt(r.marginTop)||0),left:s.left-n.left-(parseInt(r.marginLeft)||0)}},getStyle:e,getCascadedStyle:function(e){var o,i=e.cloneNode(!0);i.style.display="none",Array.prototype.slice.call(i.querySelectorAll('input[type="radio"]')).forEach(function(t){t.removeAttribute("name")}),e.parentNode.insertBefore(i,e.nextSibling),i.currentStyle?o=i.currentStyle:t.getComputedStyle&&(o=n.defaultView.getComputedStyle(i,null));var s={};for(var a in o)!isNaN(a)||"string"!=typeof o[a]&&"number"!=typeof o[a]||(s[a]=o[a]);if(Object.keys(s).length<3)for(var r in s={},o)isNaN(r)||(s[o[r].replace(/-\w/g,function(t){return t.toUpperCase().replace("-","")})]=o.getPropertyValue(o[r]));if(s.margin||"auto"!==s.marginLeft?s.margin||s.marginLeft!==s.marginRight||s.marginLeft!==s.marginTop||s.marginLeft!==s.marginBottom||(s.margin=s.marginLeft):s.margin="auto",!s.margin&&"0px"===s.marginLeft&&"0px"===s.marginRight){var l=e.offsetLeft-e.parentNode.offsetLeft,c=l-(parseInt(s.left)||0)-(parseInt(s.right)||0),d=e.parentNode.offsetWidth-e.offsetWidth-l-(parseInt(s.right)||0)+(parseInt(s.left)||0)-c;0!=d&&1!=d||(s.margin="auto")}return i.parentNode.removeChild(i),i=null,s}}}(window);
;/*})'"*/
;/*})'"*/
(function($){"use strict";$(function(){function dfp_tag_third_cat_banner_check(id){var slot=$('#'+id).parent();return slot.attr('data-dfp-position')==='third_cat_jumbotron'&&slot.height()>300};if(typeof Drupal.settings.penton_custom_dfp==='undefined'&&typeof $.DFPInit==='undefined')return;if($(".a-data-table-company").length==1){var keyobj=['pterm','sterm','program','author','content'],keyvalpair=[];$.each(keyobj,function(){var val=dfp_format_targetings($(".a-data-table-company").attr('data-'+this),this);keyvalpair.push({target:this,value:val})});keyvalpair.push({target:'ptype',value:'data_table'});$.each(Drupal.settings.penton_custom_dfp.dfp_tags.article,function(){var thisAdtype=$(this);for(var i=0;i<thisAdtype.length;i++){thisAdtype[i].adunit+=$(".a-data-table-company").attr('data-terms');$.each(thisAdtype[i].targeting,function(){if(this.target=="nid")this.value=$(".a-data-table-company").attr('data-nid')});$.each(keyvalpair,function(){thisAdtype[i].targeting.push(this)})}})};var curr_ptype=Drupal.settings.penton_custom_dfp.current_type;if(typeof Drupal.settings.penton_custom_dfp!=='undefined'&&typeof Drupal.settings.penton_custom_dfp.dfp_tags[curr_ptype]['hidden']!=='undefined')$.each(Drupal.settings.penton_custom_dfp.dfp_tags[curr_ptype]['hidden'],function(){if(this.machinename.indexOf('footnote_floor')!==-1||this.machinename.indexOf('oop')!==-1||this.machinename.indexOf('canopy')!==-1){var targeting_present=false;$.each(this.targeting,function(){if(this.target=='gdpr_banner'){targeting_present=true;this.value=gdpr_cookie}});if(targeting_present===false)this.targeting.push({target:'gdpr_banner',value:gdpr_cookie})}});if(typeof googletag!=='undefined'&&typeof googletag.pubads!=='undefined'&&googletag.apiReady){var is300x600rht=false;googletag.pubads().addEventListener('slotRenderEnded',function(event){if(event.slot.getSlotElementId()!=="div-interstitial"){var id=event.slot.getSlotElementId(),divID=$('#'+id),$hideemptyWrapper=divID.parents('.dfp-ad-hideempty'),postargetval=event.slot.getTargeting('pos'),data_dfp_position=divID.parent().attr('data-dfp-position');if($hideemptyWrapper.length&&!event.isEmpty)$hideemptyWrapper.removeClass('hidden n_hidden');if(data_dfp_position=='inarticle1')if(event.size!==null&&event.size[1]==600){is300x600rht=true}else if(event.size!==null&&event.size[1]==250)is300x600rht=false;var native_parent_div_id=divID.parent().attr('data-dfp-position');if(/native/.test(native_parent_div_id))if(!event.isEmpty){switch(native_parent_div_id){case"native_leftrail_1":$('#penton_recent_content_block > aside').find("article").eq(1).insertAfter("hr");break;case"native_top_stories":$(".top-stories__secondary > article:eq(2)").remove();break;case"native_category_1":$(".featured-categories__wrapper :nth-child(1) > .featured-category__secondary_articles > article:eq(2)").remove();break;case"native_category_2":$('.featured-categories__wrapper :nth-child(2) > .featured-category__secondary_articles > article:eq(2)').remove();break;case"native_category_3":$('.featured-category-third > .featured-category__secondary_articles > .featured-category__secondary_articles__half:nth-child(1) > article:eq(2)').remove();break;case"native_umpu":$('#block-penton-usrermarketing-promo > article:eq(1)').remove();break;case"native_related":if(typeof event.slot.getTargeting('article_number')[0]!=='undefined'){var article_num=event.slot.getTargeting('article_number')[0]-1,art_teaser_to_remove=".related-articles-row:eq("+article_num+") > .related-articles-wrapper > a:eq(1)";$(art_teaser_to_remove).remove()};break;case"native_inline":if(typeof event.slot.getTargeting('article_number')[0]!=='undefined'){var elemID=event.slot.getSlotElementId(),parentElem=$('#'+elemID).parent();if(parentElem.attr('data-dfp-position')=='native_inline')parentElem.css('margin-bottom','1.5em');var article_num=event.slot.getTargeting('article_number')[0]-1,art_content=".article-content:eq("+article_num+") > .article-teaser__umpu";if($(art_content).length>0){$(art_content).css("display","block");$(art_content+" > .article-teaser__content > .text-container > .article-teaser__header > .date").remove();$(art_content+" > .article-teaser__content > .text-container > .sp-title").remove()};if($(".article-content > .article-teaser").width()<450)$(".article-content > .article-teaser > .article-teaser__content > .img-container").width("29%")};break;case"native_top_stories_1":var art_teaser=$('.tax-page-teasers__top-sub:last'),art_teaser_img=art_teaser.find('img');if(art_teaser_img.length==1){art_teaser_img.attr('src',art_teaser_img.attr('src').replace('tax_top_stories_2_3_retina','tax_thumbs_retina'));art_teaser_img.attr('data-x2src',art_teaser_img.attr('data-x2src').replace('tax_top_stories_2_3_retina','tax_thumbs_retina'));art_teaser_img.attr('width','88');art_teaser_img.attr('height','58');art_teaser_img.toggleClass("tax_top_stories_2_3_standard tax_thumbs_standard")};art_teaser.removeClass("tax-page-teasers__top-sub");art_teaser.insertAfter($('.jscroll-inner > article:eq(0)'));break}}else if(divID.parent().length>0){divID.parent().addClass("hidden n_hidden");divID.parent().next().css('margin-top','0px')};if(event.isEmpty&&(postargetval[0].indexOf('300')>=0&&postargetval[0].indexOf('lft')>=0)){var bannerAsideDiv=$(".banner-aside-wrapper");bannerAsideDiv.addClass("hidden");bannerAsideDiv.next("hr").addClass("hidden")};if(event.isEmpty&&postargetval[0].indexOf('728')>=0){var stickyDiv=divID.parents(".sticky-wrapper");if(stickyDiv.length>0){stickyDiv.addClass("hidden")}else{var wrapper_divnames_arr=['banner-top-wrapper','banner-bottom-wrapper'];for(var i in wrapper_divnames_arr){var wrapperDiv=divID.parents("."+wrapper_divnames_arr[i]);if(wrapperDiv.length>0){wrapperDiv.addClass("hidden");wrapperDiv.css('padding','0px')}}}};if(dfp_tag_third_cat_banner_check(id))$('.js-third-cat-banner-check_item').remove();if(event.isEmpty&&postargetval[0].indexOf('reveal')>=0)$hideemptyWrapper.next('p').css('margin-top','0px');if(data_dfp_position=='inarticle1'){var $article_content=divID.parents('.article-content'),$advanced_body=$article_content.find('.advanced-body');if($advanced_body.length)fit_gated_overlay($article_content)};if(/inarticle/.test(data_dfp_position)){var $article_content=divID.parents('.article-content');if($article_content.length&&!$article_content.hasClass('js-skip-readmore')&&$article_content.next('.read-more').length){var paragraph_len=get_readmore_paragraphs_height($article_content);if(paragraph_len>0)$article_content.height(paragraph_len)}}}})};var data=Drupal.settings.penton_custom_dfp,type=data.current_type,viewport=data.viewport,ads=data.dfp_tags[type],request=!!data.single_request,rendering=!!data.async_rendering,emptyDivs=(data.collapse_empty_divs)?parseInt(data.collapse_empty_divs,10):0;if(type==='article')dfp_place_inarticle_ads(true);$('body').DFPrender(ads);if(type=='forums_topic')dfp_update_forums_topic_inter_pos($('body'));$('[data-dfp-position="left_rail_rect"] .dfp-tags').each(function(){$(this).attr('disabled',true)});$('.dfp-tags[data-name*="pagewrap"]').each(function(){$(this).attr('disabled',true)});if(type!=='homepage'){$('[data-dfp-position="bottom_banner"] .dfp-tags').each(function(){$(this).attr('disabled',true)})}else if($(window).width()<639){$('[data-dfp-position="third_cat_jumbotron"] .dfp-tags').each(function(){$(this).attr('disabled',true)})}else $('[data-dfp-position="right_col_jumbotron"] .dfp-tags').each(function(){$(this).attr('disabled',true)});if(window.location.pathname=='/commodities/cash-grain-bids')$('.dfp-tags').each(function(){var adunit=$(this).attr('data-adunit');adunit=adunit.split('/');var newadunit="";if(typeof data.brand_adunit!=='undefined'&&data.brand_adunit.length>0){newadunit='/'+adunit[1]+'/'+adunit[2]+'/'+data.brand_adunit+'/cashgrainbids'}else newadunit='/'+adunit[1]+'/'+adunit[2]+'/cashgrainbids';$(this).attr('data-adunit',newadunit)});var init_bottom_banner=(['forums_landing','forums_category','forums_topic','author','term','page','search','commodities','weather','article','videos'].indexOf(type)!==-1)&&!$('.lazy-pagination .next a').length;if(viewport){$.DFPInit({renderAsync:rendering,singleRequest:false,emptyDivs:emptyDivs});var dfp_positions='[data-dfp-position]:not([data-dfp-position=hidden]):not([data-dfp-position=left_rail_rect])';if(init_bottom_banner)dfp_positions+=':not([data-dfp-position=bottom_banner])';$(dfp_positions).one('viewport:visible',function(){$(this).find('.dfp-tags').DFP()});$('[data-dfp-position]').viewport();$('[data-dfp-position=hidden] .dfp-tags').DFP()}else{$('.dfp-tags').DFP({exec:'onlyDefine'});$.DFPInit({renderAsync:rendering,singleRequest:request,emptyDivs:emptyDivs});$('.dfp-tags').DFP({exec:'onlyDisplay'})};if(init_bottom_banner)dfp_init_bottom('firstload');var isEnableAdsLeftRail=false
function dfpEnableLeftRailAds(){if(!isEnableAdsLeftRail){var elems=$('[data-dfp-position="left_rail_rect"] .dfp-tags');elems.each(function(){$(this).removeAttr('disabled')});elems.DFP();isEnableAdsLeftRail=true}};$('.js-sticky-leftcol').on('penton:sidebar:expand',function(){dfpEnableLeftRailAds()});breaky.above("small",function(){dfpEnableLeftRailAds()});var ispgwraprendered=false
function renderPagewrap(){$('.dfp-tags[data-name*="pagewrap"]').each(function(){var dmapping=$(this).attr('data-mapping');if(dmapping!=="")if(dmapping.indexOf("*")>0){var arr=dmapping.split("*");if(arr[0].length==4)if(arr[0]<=window.innerWidth&&!ispgwraprendered){$(this).removeAttr('disabled');ispgwraprendered=true}}}).DFP()};if(!ispgwraprendered)renderPagewrap();window.onresize=function(){if(!ispgwraprendered)renderPagewrap()};breaky.below("large",function(){$('.dfp-tags[data-name*="pagewrap"]').DFP({clear:true})})});var dfp_place_inarticle_ads=function(is_first,context){var article_bod_count=0,vidFlag,revealadFlag,inarticle2Flag,inarticle3Flag,inarticle4Flag=false,cnt=1,mainDiv="";if($('.jscroll-inner',context).length==0){mainDiv="section.main-articles-container > article.article-type-article > .article-content-wrap > .article-content > p"}else mainDiv=".jscroll-inner > article.article-type-article > .article-content-wrap > .article-content > p";var totalptags=$(mainDiv,context).length,isInlinePrev=false,thresh_vid=1e3,thresh_reveal=1200,thresh_inarticle2=1800,thresh_inarticle3=3500,thresh_inarticle4=5500;if(($('.ccc-usermarketing-promo-unit').find('.usermarketing-button').length>0||$('.ccc-usermarketing-promo-unit').find('.usermarketing-image').length>0)){thresh_inarticle2=2500;thresh_inarticle3=4500;thresh_inarticle4=6500};$(mainDiv,context).each(function(){var article_bod=$(this).text();if(article_bod.length>0){if($(".program-custom-content-channel-article",context).length==0&&$(".article-type-gallery",context).length==0&&cnt==2&&$(".inline-related",context).length==0){$(this).after('<div data-dfp-position="native_inline" class="dfp-ad-hideempty native_inline hidden n_hidden"></div>');isInlinePrev=true};if(isInlinePrev&&cnt>2){if($(this).prev("div").length>0)$(this).css("margin-top",0);isInlinePrev=false};if(!vidFlag&&((article_bod_count<thresh_vid)&&(article_bod_count+article_bod.length>=thresh_vid))){vidFlag=true;var spaceposAfter1000thchar=article_bod.indexOf(" ",(thresh_vid-article_bod_count)),nextspace=article_bod.indexOf(" ",spaceposAfter1000thchar+1),txtStr=article_bod.substr(spaceposAfter1000thchar+1,(nextspace-spaceposAfter1000thchar));txtStr=' '+txtStr.trim()+' ';var articleinnerHTML=this.innerHTML,strArrwithPos=getAllStrPos(articleinnerHTML,txtStr,false);for(var i=0;i<=strArrwithPos.length;i++)if(strArrwithPos[i]>=spaceposAfter1000thchar){var srchpos=strArrwithPos[i];this.innerHTML=articleinnerHTML.substr(0,srchpos)+'<div style="display:none;" class="dfp-ad-hideempty hidden"><div data-dfp-position="inarticlevid"></div></div>'+" "+articleinnerHTML.substr(srchpos);break}};var nextPtagLen=$(this).next('p').text().length;if(!revealadFlag&&((article_bod_count<=thresh_reveal)&&(article_bod_count+article_bod.length>=thresh_reveal))&&cnt!=totalptags){revealadFlag=true;if(nextPtagLen<=1){$(this).nextAll('p').each(function(){if($(this).text().length>1){$(this).before('<div class="dfp-ad-hideempty hidden"><div data-dfp-position="reveal"></div></div>');return false}})}else $(this).after('<div class="dfp-ad-hideempty hidden"><div data-dfp-position="reveal"></div></div>')}else if(!inarticle2Flag&&((article_bod_count<=thresh_inarticle2)&&(article_bod_count+article_bod.length>=thresh_inarticle2))&&cnt!=totalptags){inarticle2Flag=true;if(nextPtagLen<=1){$(this).nextAll('p').each(function(){if($(this).text().length>1){$(this).before('<div class="article-banner dfp-ad-hideempty hidden"><div data-dfp-position="inarticle2"></div></div>');return false}})}else $(this).after('<div class="article-banner dfp-ad-hideempty hidden"><div data-dfp-position="inarticle2"></div></div>')}else if(!inarticle3Flag&&((article_bod_count<=thresh_inarticle3)&&(article_bod_count+article_bod.length>=thresh_inarticle3))&&cnt!=totalptags){inarticle3Flag=true;if(nextPtagLen<=1){$(this).nextAll('p').each(function(){if($(this).text().length>1){$(this).before('<div class="article-banner dfp-ad-hideempty hidden"><div data-dfp-position="inarticle3"></div></div>');return false}})}else $(this).after('<div class="article-banner dfp-ad-hideempty hidden"><div data-dfp-position="inarticle3"></div></div>')}else if(!inarticle4Flag&&((article_bod_count<=thresh_inarticle4)&&(article_bod_count+article_bod.length>=thresh_inarticle4))&&cnt!=totalptags){inarticle4Flag=true;if(nextPtagLen<=1){$(this).nextAll('p').each(function(){if($(this).text().length>1){$(this).before('<div class="article-banner dfp-ad-hideempty hidden"><div data-dfp-position="inarticle4"></div></div>');return false}})}else $(this).after('<div class="article-banner dfp-ad-hideempty hidden"><div data-dfp-position="inarticle4"></div></div>')};article_bod_count+=article_bod.length;cnt++}})},dfp_update_ads=function(context,iteration,contentType){var new_targetings,upData,tags,container,nid,ptype,terms,sterm,pterm,program,sponsored;if(typeof Drupal.settings.penton_custom_dfp==='undefined'&&typeof $.DFPInit==='undefined')return;context=$(context);var $left_rail_ad=$('[data-dfp-position=left_rail_rect]');contentType=contentType||'article';var data=Drupal.settings.penton_custom_dfp,type=data.current_type,ads=(type&&typeof data.dfp_tags[type]!=='undefined')?data.dfp_tags[type]:data.dfp_tags[contentType];if(type==='article')dfp_place_inarticle_ads(false,context);container=context.find('article');container=container.length>1?$(container[0]):container;var ad_index=typeof iteration!=='undefined'?iteration:ads_shown_count;ad_index=(ad_index%10===0||ad_index>=10)?10:ad_index%10;var pterm_formatted=dfp_format_targetings(container.attr('data-pterm')),sterm_formatted=dfp_format_targetings(container.attr('data-sterm')),program_formatted=dfp_format_targetings(container.attr('data-program')),author_formatted=dfp_format_targetings(container.attr('data-author')),content_target_val=container.attr('data-content')!==''?'program':'';new_targetings={pos:ad_index+1,nid:container.attr('data-nid'),ptype:container.attr('data-type'),pterm:pterm_formatted,sterm:sterm_formatted,program:program_formatted,author:author_formatted,article_number:ad_index+1,content:content_target_val};terms=dfp_format_targetings(container.attr('data-terms'),'terms');sponsored=container.attr('data-ext')=='native content'?'sponsored/':'';if((type=="taxonomy"||type=="search"||type=="author")&&(typeof new_targetings.ptype==='undefined'))if(ads.hasOwnProperty("infinitescroll")&&(typeof ads.infinitescroll[0].targeting!=='undefined')){var targetingarr=ads.infinitescroll[0].targeting;for(var i=0;i<targetingarr.length;i++){if(targetingarr[i].target=="ptype")new_targetings.ptype=targetingarr[i].value;if(targetingarr[i].target=="pos"&&new_targetings.hasOwnProperty("pos"))if(ad_index+1>=10)new_targetings.pos=10}};if(typeof new_targetings.nid==='undefined'&&type==='article')return;for(var new_targeting in new_targetings)dfp_set_targeting(ads,new_targeting,new_targetings[new_targeting]);var $left_rail_ad_block=$('[data-dfp-position=left_rail_rect] .dfp-tags');if($left_rail_ad_block.length){var left_rail_ad_targeting=$left_rail_ad_block.attr('data-targeting'),iterate_pattern=new RegExp(/pos=300_\d+_lft/i),nid_pattern=new RegExp(/nid=\d+/i),new_index=ad_index+1>=10?10:ad_index+1;$left_rail_ad_block.attr('data-targeting',left_rail_ad_targeting.replace(iterate_pattern,function(){return'pos=300_'+new_index+"_lft"}))};var dfp_update_key_val_article=function($adblock){var keyobj=['pterm','sterm','program','author','ptype','content'];jQuery.each(keyobj,function(){var adblock_targeting=$adblock.attr('data-targeting')||'';if(adblock_targeting.indexOf(this+"=")!==-1){var a=adblock_targeting.split("|"+this+"=");if(a.length>1&&a[1]!==""){var key=this;if(a[1].indexOf("|")!==-1){var b=a[1].split("|");if(typeof new_targetings[key]==='undefined')new_targetings[key]='';$adblock.attr('data-targeting',adblock_targeting.replace("|"+this+"="+b[0]+'|',function(){return'|'+key+'='+new_targetings[key]+'|'}))}else{var b=a[1];if(typeof new_targetings[key]==='undefined')new_targetings[key]='';$adblock.attr('data-targeting',adblock_targeting.replace("|"+this+"="+b+'|',function(){return'|'+key+'='+new_targetings[key]+'|'}))}}}else{if(typeof new_targetings[this]==='undefined')new_targetings[this]='';$adblock.attr('data-targeting',$adblock.attr('data-targeting')+'|'+this+'='+new_targetings[this])}})};if(type==='article'&&$left_rail_ad_block.length)dfp_update_key_val_article($left_rail_ad_block);var new_adunit="";if(container.attr('data-type')=='multipartseries'){new_adunit=data.default_adunit+'/multipartseries/'+terms;dfp_set_adunit(ads,new_adunit)};if(type==='article'&&$left_rail_ad_block.length){left_rail_ad_targeting=$left_rail_ad_block.attr('data-targeting');$left_rail_ad_block.attr('data-targeting',left_rail_ad_targeting.replace(nid_pattern,function(){return'nid='+new_targetings.nid}));var $footer_ad_block=$('[data-dfp-position=bottom_banner] .dfp-tags'),footer_ad_ad_targeting=$footer_ad_block.attr('data-targeting');$footer_ad_block.attr('data-targeting',footer_ad_ad_targeting.replace(nid_pattern,function(){return'nid='+new_targetings.nid}));if(typeof container.attr('data-program-type')!=='undefined'){new_adunit=data.default_adunit+'/program/'+program_formatted}else new_adunit=data.default_adunit+'/article/'+sponsored+terms;dfp_set_adunit(ads,new_adunit);$left_rail_ad_block.attr('data-adunit',new_adunit);$footer_ad_block.attr('data-adunit',new_adunit)};$(context).DFPrender(ads);if(type==='article'){var $article_interscr_ad_block=$('[data-dfp-position=infinitescroll] .dfp-tags',context),article_interscr_ad_targeting=$article_interscr_ad_block.attr('data-targeting'),article_interscr_ad_index=((ad_index+1)%10===0||(ad_index+1)>=10)?10:(ad_index+1)%10,interscroller_iterate_pattern=new RegExp(/pos=728_\d+_a/i);if($article_interscr_ad_block.length){$article_interscr_ad_block.attr('data-targeting',article_interscr_ad_targeting.replace(interscroller_iterate_pattern,function(){return'pos=728_'+article_interscr_ad_index+'_a'}));dfp_update_key_val_article($article_interscr_ad_block)};var $article_reveal_ad_block=$('[data-dfp-position=reveal] .dfp-tags',context),article_reveal_ad_targeting=$article_reveal_ad_block.attr('data-targeting'),article_reveal_ad_index=((ad_index+1)%10===0||(ad_index+1)>=10)?10:(ad_index+1)%10,revealad_iterate_pattern=new RegExp(/pos=\d+/i);if($article_reveal_ad_block.length){$article_reveal_ad_block.attr('data-targeting',article_reveal_ad_targeting.replace(revealad_iterate_pattern,function(){return'pos=reveal_'+article_reveal_ad_index}));dfp_update_key_val_article($article_reveal_ad_block)};for(var cnt=1;cnt<5;cnt++){var a=parseInt(cnt),$article_inarticle1_ad_block=$('[data-dfp-position=inarticle'+a+'] .dfp-tags',context),article_inarticle1_ad_targeting=$article_inarticle1_ad_block.attr('data-targeting'),article_inarticle1_ad_index=((ad_index+1)%10===0)?10:(ad_index+1)%10,inarticle1_iterate_pattern=new RegExp(/article_number=\d+/i);if($article_inarticle1_ad_block.length){$article_inarticle1_ad_block.attr('data-targeting',article_inarticle1_ad_targeting.replace(inarticle1_iterate_pattern,function(){return'article_number='+article_inarticle1_ad_index}));dfp_update_key_val_article($article_inarticle1_ad_block)}};var $article_inarticlevid_ad_block=$('[data-dfp-position=inarticlevid] .dfp-tags',context);if($article_inarticlevid_ad_block.length)dfp_update_key_val_article($article_inarticlevid_ad_block);var $article_sponsoredLogo_ad_block=$('[data-dfp-position=sponsored_logo] .dfp-tags',context);if($article_sponsoredLogo_ad_block.length)dfp_update_key_val_article($article_sponsoredLogo_ad_block);var additional_native_ads={native_umpu:'nativekey_3',native_inline:'nativekey_13_',native_related:'nativekey_12_'};for(var native_positions in additional_native_ads){var $native_ad_block=$('[data-dfp-position='+native_positions+'] .dfp-tags',context);if($native_ad_block.length){var native_ad_targeting=$native_ad_block.attr('data-targeting'),native_pos_pattern=new RegExp(/pos=\d+/i),new_index=ad_index+1>=10?10:ad_index+1;$native_ad_block.attr('data-targeting',native_ad_targeting.replace(native_pos_pattern,function(){if(native_positions=='native_umpu'){return'pos='+additional_native_ads[native_positions]}else return'pos='+additional_native_ads[native_positions]+new_index}))}}};var dfp_update_key_val_term=function($adblock,lft_targeting,targ_name){var adblock_targeting=$adblock.attr('data-targeting');if(adblock_targeting.indexOf(targ_name+"=")!==-1){var a=lft_targeting.split("|"+targ_name+"=");if(a.length>1&&a[1]!==""){var key=targ_name;if(a[1].indexOf("|")!==-1){var b=a[1].split("|");$adblock.attr('data-targeting',adblock_targeting.replace("|"+targ_name+"=|",function(){return'|'+key+'='+dfp_format_targetings(b[0])+'|'}))}}}};if(type=="taxonomy"&&$left_rail_ad_block.length){var $tax_infinitescroll_block=$('[data-dfp-position=infinitescroll] .dfp-tags',context),lft_targeting=$left_rail_ad_block.attr('data-targeting');if(lft_targeting.indexOf("|pterm=")!==-1)dfp_update_key_val_term($tax_infinitescroll_block,lft_targeting,'pterm');if(lft_targeting.indexOf("|sterm=")!==-1)dfp_update_key_val_term($tax_infinitescroll_block,lft_targeting,'sterm');if(lft_targeting.indexOf("|program=")!==-1)dfp_update_key_val_term($tax_infinitescroll_block,lft_targeting,'program')};if(type=="author"&&$left_rail_ad_block.length){var $author_infinitescroll_block=$('[data-dfp-position=infinitescroll] .dfp-tags',context),lft_targeting=$left_rail_ad_block.attr('data-targeting');if(lft_targeting.indexOf("|author=")!==-1)dfp_update_key_val_term($author_infinitescroll_block,lft_targeting,'author')};if(type=="videos"&&$left_rail_ad_block.length){var $videos_infinitescroll_block=$('[data-dfp-position=infinitescroll] .dfp-tags',context),lft_targeting=$left_rail_ad_block.attr('data-targeting');if(lft_targeting.indexOf("|ptype=")!==-1)dfp_update_key_val_term($videos_infinitescroll_block,lft_targeting,'ptype')};$('.penton-cme-sponsored-logo .dfp-tags[data-name*="sponsored_logo"]',context).each(function(){var adunit=$(this).attr('data-adunit')+'/weather_widget';$(this).attr('data-adunit',adunit);if($(this).length)dfp_update_key_val_article($(this))});if($left_rail_ad.length&&type!=='videos')$('.dfp-tags',$left_rail_ad).DFP({refresh:true});var viewport=data.viewport;if(viewport){$('[data-dfp-position]',context).one('viewport:visible',function(){$(this).find('.dfp-tags').DFP()});$('[data-dfp-position]').viewport()}else $('.dfp-tags',context).DFP()},dfp_format_targetings=function(targetingVals,type){if(targetingVals!=""&&targetingVals!=undefined){var vals;if(type=='terms'){vals=targetingVals.split("/")}else vals=targetingVals.split("|");var formatted_vals=[];for(var i=0;i<vals.length;i++){var replace_chars=vals[i].toLowerCase().replace(/ |,|-|\//g,"_");replace_chars=replace_chars.replace(/[\\/"'=!+#*~;:^()<>&{}“‘’”….,|?\[\]]/g,"");formatted_vals[i]=replace_chars.replace(/_+/g,'_')};if(type=='terms'){return formatted_vals.join("/")}else return formatted_vals.join()}},dfp_init_bottom=function(pgloadtype){if(typeof Drupal.settings.penton_custom_dfp==='undefined'&&typeof $.DFPInit==='undefined')return;var data=Drupal.settings.penton_custom_dfp,viewport=data.viewport,$bottom_position=$('[data-dfp-position="bottom_banner"] .dfp-tags');$bottom_position.each(function(){$(this).removeAttr('disabled')});if(pgloadtype=='firstload')if(viewport){$('[data-dfp-position="bottom_banner"]').one('viewport:visible',function(){$(this).find('.dfp-tags').DFP()});$('[data-dfp-position]').viewport()}else $bottom_position.DFP()},dfp_init_by_context=function(context,dataType){if(typeof Drupal.settings.penton_custom_dfp==='undefined'&&typeof $.DFPInit==='undefined')return;var data=Drupal.settings.penton_custom_dfp,type=data.current_type,ads=(dataType&&typeof data.dfp_tags[dataType]!=='undefined')?data.dfp_tags[dataType]:data.dfp_tags[type];$(context).DFPrender(ads);$('.dfp-tags',context).DFP()},dfp_refresh_init_ads=function(context){if(typeof Drupal.settings.penton_custom_dfp==='undefined'&&typeof $.DFPInit==='undefined')return;$('[data-dfp-position="left_rail_rect"] .dfp-tags').DFP({refresh:true});dfp_init_by_context(context)}
function slightlyVisible(element){var scroll_pos=$(window).scrollTop(),window_height=$(window).height(),el_top=$(element).offset().top,el_height=$(element).height(),el_bottom=el_top+el_height;return((el_bottom-el_height*0.25>scroll_pos)&&(el_top<(scroll_pos+0.95*window_height)))}
function update_dtm_digital_layer(element){if(typeof digitalData!=='undefined'){var $article=$(element).find('article.js-lazy-pager-content');if(!$article.length)return;digitalData.page.destinationURL=window.location.origin+$article.attr('data-url');digitalData.page.attributes.destinationPath=$article.attr('data-url');digitalData.page.pageInfo.pageName=$article.attr('data-title');digitalData.page.pageInfo.pageID=$article.attr('data-pid');digitalData.page.pageInfo.author=$article.attr('data-author');digitalData.page.pageInfo.issueDate=$article.attr('data-pub');digitalData.page.category.primaryCategory=$article.attr('data-ptermhier');digitalData.page.attributes.contentSponsor=$article.attr('data-contentSponsor');digitalData.page.attributes.taxonomy=$article.attr('data-tax');digitalData.page.attributes.buyerJourney=$article.attr('data-buyersjourney');digitalData.page.attributes.subType1=$article.attr('data-type');digitalData.page.attributes.subType2=$article.attr('data-ext');digitalData.page.attributes.programs=$article.attr('data-program');digitalData.page.attributes.permission=$article.attr('data-perm');digitalData.page.attributes.visibility=$article.attr('data-visibility');if($article.attr('data-type')=="multipartseries"){digitalData.page.attributes.subType1="Multi-Part Series";digitalData.page.attributes.package=$article.attr('data-title');digitalData.page.category.pageType="multipartseries"};var curScrollPosition=digitalData.page.attributes.scrollPosition;if(curScrollPosition.length>2&&curScrollPosition.charAt(1)==='_'){curScrollPosition=curScrollPosition.charAt(0);curScrollPosition=1+ +curScrollPosition;digitalData.page.attributes.scrollPosition=curScrollPosition+'_of_'+digitalData.page.attributes.scrollCount};_satellite.track('NEW ARTICLE LOADED')}}
function update_gtm_datalayer(element){if(typeof dataLayer!=='undefined'){var $article=$(element).find('article.js-lazy-pager-content');if(!$article.length)return;if(typeof Drupal.settings.informa_gtm!=='undefined'&&gtm_datalayer!=='undefined'){gtm_datalayer=Drupal.settings.informa_gtm;gtm_datalayer.page.pageInfo.destinationURL=window.location.origin+$article.attr('data-url');gtm_datalayer.page.attributes.destinationPath=$article.attr('data-url')!==''?$article.attr('data-url'):null;gtm_datalayer.page.pageInfo.pageName=$article.attr('data-title')!==''?$article.attr('data-title'):null;gtm_datalayer.page.pageInfo.pageID=$article.attr('data-pid')!==''?$article.attr('data-pid'):null;gtm_datalayer.page.pageInfo.author=$article.attr('data-author')!==''?$article.attr('data-author'):null;gtm_datalayer.page.pageInfo.issueDate=$article.attr('data-pub')!==''?$article.attr('data-pub'):null;gtm_datalayer.page.category.primaryCategory=$article.attr('data-ptermhier')!==''?$article.attr('data-ptermhier'):null;gtm_datalayer.page.category.pageType='article';gtm_datalayer.page.attributes.contentSponsor=$article.attr('data-contentSponsor')!==''?$article.attr('data-contentSponsor'):null;gtm_datalayer.page.attributes.taxonomy=$article.attr('data-tax')!==''?$article.attr('data-tax'):null;gtm_datalayer.page.attributes.buyerJourney=$article.attr('data-buyersjourney')!==''?$article.attr('data-buyersjourney'):null;gtm_datalayer.page.attributes.subType1=$article.attr('data-type')!==''?$article.attr('data-type'):null;gtm_datalayer.page.attributes.subType2=$article.attr('data-ext')!==''?$article.attr('data-ext'):null;gtm_datalayer.page.attributes.programs=$article.attr('data-program')!==''?$article.attr('data-program'):null;gtm_datalayer.page.attributes.permission=$article.attr('data-perm')!==''?$article.attr('data-perm'):null;gtm_datalayer.page.attributes.visibility=$article.attr('data-visibility')!==''?$article.attr('data-visibility'):null;if($article.attr('data-type')=="multipartseries"){gtm_datalayer.page.attributes.subType1="Multi-Part Series";gtm_datalayer.page.attributes.package=$article.attr('data-title');if($article.hasClass('article-research-landing-page')){gtm_datalayer.page.category.pageType='multipartseries_browse'}else if($article.hasClass('node-type-research_page'))gtm_datalayer.page.category.pageType='multipartseries'};var curScrollPosition=gtm_datalayer.page.attributes.scrollPosition;if(curScrollPosition.length>2&&curScrollPosition.charAt(1)==='_'){curScrollPosition=curScrollPosition.charAt(0);curScrollPosition=1+ +curScrollPosition;gtm_datalayer.page.attributes.scrollPosition=curScrollPosition+'_of_'+gtm_datalayer.page.attributes.scrollCount};dataLayer.push({event:'NEW ARTICLE LOADED',page:gtm_datalayer.page,user:gtm_datalayer.user})}}};var infscr_update_dfp_dtm=function(){$(".jscroll-added:not(.processed)").each(function(index){if(!$(this).find('.jscroll-loading').length)if(slightlyVisible(this)){var isInitDfpBottomPosition=!$(this).find('.lazy-pagination .next a').length;Drupal.attachBehaviors(this);dfp_update_ads($(this));ads_shown_count++;if(isInitDfpBottomPosition)dfp_init_bottom('infscr');update_dtm_digital_layer(this);update_gtm_datalayer(this);$(this).addClass('processed')}})};$(function(){function mostlyVisible(element){var scroll_pos=$(window).scrollTop(),window_height=$(window).height(),el_top=$(element).offset().top,el_height=$(element).height(),el_bottom=el_top+el_height;return((el_bottom-el_height*0.25>scroll_pos)&&(el_top<(scroll_pos+0.5*window_height)))};var last_scroll=0;if($('.js-lazy-pager-wrapper').length)$(window).scroll(function(){var scroll_pos=$(window).scrollTop();if(Math.abs(scroll_pos-last_scroll)>$(window).height()*0.1){last_scroll=scroll_pos;$(".big-article:not(.js-no-url-replace)").each(function(index){var path,url=$(this).attr("data-url");path=(url.indexOf('?')===-1)?url:url.slice(0,url.indexOf('?'));path+=location.search+location.hash;if(mostlyVisible(this)&&typeof history.replaceState==='function'){history.replaceState(null,null,path);document.title=$(this).data("seo-title");return false}});infscr_update_dfp_dtm()}})})
function getAllStrPos(string,subString,allowOverlapping){var cntArrWithPos=new Array();string+="";subString+="";if(subString.length<=0)return(string.length+1);var n=0,pos=0,step=allowOverlapping?1:subString.length;while(true){pos=string.indexOf(subString,pos);if(pos>=0){cntArrWithPos[n]=pos;++n;pos+=step}else break};return cntArrWithPos}
function hide_lazy_pager(){$('ul.lazy-pagination, .lazy-pagination-read-more').hide();$('ul.lazy-pagination:last + .pagination-read-more').show();$('ul.lazy-pagination:last').parent().next('.pagination-read-more').show()};Drupal.behaviors.infiniteScroll={attach:function(context){hide_lazy_pager();if($(".js-lazy-pager-wrapper ul.lazy-pagination",context).length){var $lazy_article=$('article.js-lazy-pager-content',context),pad_height=750;$('.js-lazy-pager-wrapper',context).jscroll({loadingHtml:'<i class="fa fa-refresh fa-spin"></i> Loading... <script>Drupal.addInfscrErrorHandler();</script>',nextSelector:'.next a',pagingSelector:'ul.lazy-pagination',padding:pad_height,callback:function(){infscr_update_dfp_dtm()}})}else if($('.forum-dfp-ads',context).length){ads_shown_count++;dfp_update_forum_ads(context)}}}
function dfp_set_targeting(ads,targeting_name,targeting_value){var targetings;for(var position_key in ads){if(!ads.hasOwnProperty(position_key))continue;var position=ads[position_key];for(var ad_key in position){if(!position.hasOwnProperty(ad_key))continue;var ad=position[ad_key],pos=dfp_get_pos_targeting(ad),tvalue=targeting_value;if(targeting_name.indexOf("pos")==0&&(position_key.indexOf("inarticle")==0||position_key.indexOf("sponsored_logo")==0))continue;if($.isArray(pos)){for(var ind=0;ind<pos.length;ind++)if(dfp_is_pos_tageting_needed_tobe_changed(pos[ind],targeting_name)){pos[ind]=update_iterative_targeting(pos[ind],tvalue);tvalue=pos;break}}else if(dfp_is_pos_tageting_needed_tobe_changed(pos,targeting_name))tvalue=update_iterative_targeting(pos,tvalue);targetings=ad.targeting;for(var tindex=targetings.length-1;tindex>=0;tindex--){if(!targetings.hasOwnProperty(tindex))continue;var targeting=targetings[tindex];if(targeting.target!==targeting_name)continue;if(tvalue!==''){targeting.value=tvalue}else targetings.splice(tindex,1);break}}}}
function update_iterative_targeting(pos,tvalue){var str="";if(typeof pos==='string'){str=pos.split('_');str.splice(1,1,tvalue);return str.join('_')}else return tvalue}
function dfp_set_adunit(ads,new_adunit){for(var position_key in ads){if(!ads.hasOwnProperty(position_key))continue;var position=ads[position_key];for(var ad_key in position){if(!position.hasOwnProperty(ad_key))continue;var ad=position[ad_key];ad.adunit=new_adunit}}}
function dfp_get_pos_targeting(ad){var targetings=ad.targeting;for(var key in targetings){if(!targetings.hasOwnProperty(key))continue;if(targetings[key]['target']==='pos')return targetings[key]['value']};return''}
function dfp_is_pos_tageting_needed_tobe_changed(ad_name,targeting_name){var pattern=new RegExp(/(300|728)\_(\d+)_.+/i);return(targeting_name==='pos'&&pattern.test(ad_name))}
function dfp_update_forums_topic_inter_pos(context){$('[data-dfp-position="infinitescroll"] .dfp-tags',context).each(function(){forum_ads_shown_count++;forum_ads_shown_count=(forum_ads_shown_count%10===0||forum_ads_shown_count>=10)?10:forum_ads_shown_count%10;forum_ads_shown_count=(forum_ads_shown_count===1)?2:forum_ads_shown_count;var this_ad_targeting=$(this).attr('data-targeting'),interscroller_iterate_pattern=new RegExp(/pos=728_\d+_a/i);$(this).attr('data-targeting',this_ad_targeting.replace(interscroller_iterate_pattern,function(){return'pos=728_'+forum_ads_shown_count+'_a'}))})};window.ads_shown_count=1;window.forum_ads_shown_count=1;var dfp_update_forum_ads=function(context,contentType){if(typeof Drupal.settings.penton_custom_dfp==='undefined'&&typeof $.DFPInit==='undefined')return;context=$(context);contentType=contentType||'article';var data=Drupal.settings.penton_custom_dfp,type=data.current_type,ads=(type&&typeof data.dfp_tags[type]!=='undefined')?data.dfp_tags[type]:data.dfp_tags[contentType],ad_index=typeof iteration!=='undefined'?iteration:ads_shown_count;ad_index=(ad_index%10===0)?10:ad_index%10;var $left_rail_ad=$('[data-dfp-position=left_rail_rect]'),$left_rail_ad_block=$left_rail_ad.find('.dfp-tags'),left_rail_ad_targeting=$left_rail_ad_block.attr('data-targeting'),iterate_pattern=new RegExp(/pos=300_\d+_lft/i);$left_rail_ad_block.attr('data-targeting',left_rail_ad_targeting.replace(iterate_pattern,function(){return'pos=300_'+ad_index+"_lft"}));$(context).DFPrender(ads);dfp_update_forums_topic_inter_pos(context);if($left_rail_ad.length&&type!=='videos')$('.dfp-tags',$left_rail_ad).DFP({refresh:true});var viewport=data.viewport;if(viewport){$('[data-dfp-position]',context).one('viewport:visible',function(){$(this).find('.dfp-tags').DFP()});$('[data-dfp-position]').viewport()}else $('.dfp-tags',context).DFP()}
function get_readmore_paragraphs_height(article_content){var paragraph_len=0,paragraphs=article_content.find(' > p');if(paragraphs.length>8){paragraphs=article_content.find(' > p, > div:not(.article-banner)');var paragraphs_count=0;for(var i=0;i<paragraphs.length;i++){var $paragraph=$(paragraphs[i]);if($paragraph.prop('tagName')=='P')paragraphs_count++;paragraph_len+=$paragraph.outerHeight(true);if(paragraphs_count==7){paragraph_len-=(parseInt($(paragraphs[6]).outerHeight(true)/3,10)+70);return paragraph_len}}};return 0};Drupal.behaviors.addReadmoreButton={attach:function(context){if($(context).hasClass('jscroll-added'))$('.article-content:not(.js-skip-readmore)',context).each(function(){var paragraph_len=get_readmore_paragraphs_height($(this));if(paragraph_len>0){var $content_area=$(this);$content_area.readmore({moreLink:'<div class="read-more"><a href="#">read more</a></div>',lessLink:'',maxHeight:paragraph_len,expandedClass:'js-readmore-expanded',collapsedClass:'js-readmore-collapsed',afterToggle:function(){if($content_area.parents('article').data('program-type')==="custom content channel"){location.href=$content_area.parents('article').data('url')}else{$content_area.css('height','100%');$content_area.siblings('.readmore-js-toggle').remove()}}})}})}}}(jQuery));;/*})'"*/
var LegalAlert={},LegalPopup={},LegalCommunication={};(function($,win){'use strict'
function eventHide(){if(typeof PentonSingleHeader!=='undefined'&&typeof PentonSingleHeader.toDefaultHeight==='function'&&typeof PentonSingleHeader.resize==='function'){PentonSingleHeader.toDefaultHeight();PentonSingleHeader.resize()};if(typeof PentonSingleSidebar!=='undefined'&&typeof PentonSingleSidebar.inSticked==='function')PentonSingleSidebar.inSticked()}
function eventBreakpoint(self){if(typeof PentonSingleHeader!=='undefined'&&typeof PentonSingleHeader.toDefaultHeight==='function'&&typeof PentonSingleHeader.getHeight==='function'&&typeof PentonSingleHeader.resize==='function'){PentonSingleHeader.toDefaultHeight();var height=PentonSingleHeader.getHeight();PentonSingleHeader.setHeight(height.minHeight+self.minHeight,height.maxHeight+self.minHeight)};if(typeof PentonSingleSidebar!=='undefined'&&typeof PentonSingleSidebar.inSticked==='function')PentonSingleSidebar.inSticked()};LegalCommunication=(function(){function LegalCommunication(){this.approvalUrl='ajax/penton-legal-comm';this.messageUrl='ajax/penton-legal-comm-get-message';this.countUrl='ajax/penton-legal-comm-count';this.selfSel='.js-penton-legal-comm-ajax-output-alert';this.popupSel='.js-legal-comm-message-pop-up';this.selfEl=null;this.htmlEl=null;this.init()}
function checkCallback(cb){if(typeof cb==='function')return true;return false};LegalCommunication.prototype.init=function(){this.selfEl=$(this.selfSel);this.htmlEl=$('html')};LegalCommunication.prototype.isNotDisable=function(){return!!this.selfEl.children().length};LegalCommunication.prototype.isPopup=function(){return!!this.selfEl.find(this.popupSel).length};LegalCommunication.prototype.removeIndented=function(){this.htmlEl.removeClass('js-legal-comm-message-show')};LegalCommunication.prototype.addIndented=function(){this.htmlEl.addClass('js-legal-comm-message-show')};LegalCommunication.prototype.isLogin=function(){return!$('.not-logged-in').length};LegalCommunication.prototype.approval=function(id){$.ajax({type:"POST",url:Drupal.settings.basePath+this.approvalUrl,data:{nid:id}})};LegalCommunication.prototype.counting=function(id){$.ajax({type:"POST",url:Drupal.settings.basePath+this.countUrl,data:{nid:id}})};LegalCommunication.prototype.getMessage=function(succCb,failCb){var self=this;$.ajax({type:"POST",url:Drupal.settings.basePath+this.messageUrl,success:function(data){if(data.length){if(checkCallback(succCb))succCb(self,data)}else if(checkCallback(failCb))failCb(self)}})};return LegalCommunication}());LegalAlert=(function(){function LegalAlert(){this.ID=0;this.animateTime=500;this.selfSel='.js-legal-comm-message';this.linkCollSel='.js-legal-comm-trigger';this.containerEl=null;this.selfEl=null;this.linkCollEl=null;this.messContEl=null;this.minHeight=42;this.maxHeight=0;this.messMinHeight=22;this.messMaxHeight=0;this.visible=false;this.init()};LegalAlert.prototype.init=function(){this.selfEl=$(this.selfSel);this.linkCollEl=$(this.linkCollSel);this.ID=this.selfEl.attr('data-penton-legal-comm-nid');this.dotted=this.selfEl.find('.js-legal-comm-trigger-three-dotted')};LegalAlert.prototype.isset=function(){return!!this.selfSel.length};LegalAlert.prototype._countHeight=function(){var contentHeight=$(window).height()-$('.js-header').height()-$('.alert-controls').height();this.messContEl=this.selfEl.find('.alert-msg');this.messContEl.removeAttr('style');this.minHeight=this.selfEl.height();this.messMinHeight=this.messContEl.height();this.messContEl.css('height','auto');this.messContEl.addClass('active');this.selfEl.addClass('active');this.maxHeight=this.selfEl.height();this.messMaxHeight=Math.min(this.messContEl.height(),contentHeight);this.messContEl.css('height',this.messMinHeight);this.messContEl.removeClass('active');this.selfEl.removeClass('active')};LegalAlert.prototype.show=function(cb,time){var self=this;cb=cb||function(){};time=time||this.animateTime;this.visible=true;var main=$('main'),margin=parseInt(main.css('margin-top'),10);main.css('margin-top',margin+$('.js-legal-comm-message').outerHeight(true));this.selfEl.slideDown(time,function(){cb();self._isCollapse();self._countHeight()})};LegalAlert.prototype.hide=function(cb,time){cb=cb||function(){};time=time||this.animateTime;var main=$('main'),margin=parseInt(main.css('margin-top'),10);main.css('margin-top',margin-$('.js-legal-comm-message').outerHeight(true));this.selfEl.slideUp(time,cb);this.visible=false;eventHide()};LegalAlert.prototype.expand=function(cb,time){cb=cb||function(){};time=time||this.animateTime;this.messContEl.stop(true,true).animate({height:this.messMaxHeight},time,function(){this.messContEl.css('overflow-y','scroll')}.bind(this));this.messContEl.addClass('active');this.selfEl.addClass('active');this.linkCollEl.removeClass('js-legal-comm-collapse');this.linkCollEl.addClass('js-legal-comm-expand');this.linkCollEl.text('hide');this.dotted.hide()};LegalAlert.prototype.collapse=function(cb,time){cb=cb||function(){};time=time||this.animateTime;this.messContEl.stop(true,true).animate({height:this.messMinHeight},time,function(){this.linkCollEl.removeClass('js-legal-comm-expand');this.linkCollEl.addClass('js-legal-comm-collapse');this.linkCollEl.text('read more');this.messContEl.css('overflow','hidden');this.messContEl.removeClass('active');this.selfEl.removeClass('active')}.bind(this));this.dotted.show()};LegalAlert.prototype._isCollapse=function(){var contHeight=this.selfEl.find('.alert-msg').height(),textHeight=this.selfEl.find('.js-legal-comm-text').height();if(contHeight<textHeight){this.linkCollEl.show();this.dotted.show()}else{this.linkCollEl.hide();this.dotted.hide()}};LegalAlert.prototype.events=function(legal){var self=this;if(!(legal instanceof LegalCommunication))return false;$(win).on('resize',function(){self.collapse();self._isCollapse();self._countHeight()});this.linkCollEl.on('click',function(e){e.preventDefault();if($(this).hasClass('js-legal-comm-collapse')){self.expand()}else self.collapse()});this.selfEl.find('.js-legal-comm-message-agree').on('click',function(e){e.preventDefault();legal.approval(self.ID);self.hide()});this.selfEl.find('.js-legal-comm-message-close').on('click',function(e){e.preventDefault();legal.counting(self.ID);self.hide()});this.selfEl.find('.js-legal-comm-message-confirm').on('click',function(e){e.preventDefault();legal.approval(self.ID);self.hide()})
function breakpoint(){self._isCollapse();self._countHeight();if(self.visible)eventBreakpoint(self)};breaky.above("small",breakpoint);breaky.below("small",breakpoint)};return LegalAlert}());LegalPopup=(function(){function LegalPopup(){this.ID=0;this.selfSel='.js-legal-comm-message-pop-up';this.containerEl=null;this.selfEl=null;this.init()};LegalPopup.prototype.init=function(){this.selfEl=$(this.selfSel);this.ID=this.selfEl.attr('data-penton-legal-comm-nid')};LegalPopup.prototype.isset=function(){return!!this.selfSel.length};LegalPopup.prototype.show=function(){Drupal.CTools.Modal.show('modal-popup-legal-comm');$('#modal-title').text(this.selfEl.find('.js-legal-comm-message-title').text());$('#modal-content').html(this.selfEl.find('.js-legal-comm-message-description').html())};LegalPopup.prototype.hide=function(){Drupal.CTools.Modal.dismiss('modal-popup-legal-comm')};LegalPopup.prototype.events=function(legal){var self=this;if(!(legal instanceof LegalCommunication))return false;$('.js-legal-comm-message-agree').on('click',function(e){e.preventDefault();legal.approval(self.ID);self.hide()})};return LegalPopup}())}(jQuery,window));;/*})'"*/
(function($){'use strict';$(function(){var alert,popup,legal;legal=new LegalCommunication();if(legal.isNotDisable()&&legal.isLogin()&&legal.isPopup()){legal.removeIndented();popup=new LegalPopup();popup.show();popup.events(legal)}else if(legal.isNotDisable()&&legal.isLogin()){popup=new LegalAlert();popup.show();popup.events(legal)};if(!legal.isLogin())legal.getMessage(function(self,data){self.selfEl.hide().html(data);if(self.isPopup()){popup=new LegalPopup();popup.show();popup.events(self)}else{self.selfEl.show();self.addIndented();alert=new LegalAlert();alert.show(function(){alert.events(self)})}})})}(jQuery));;/*})'"*/
